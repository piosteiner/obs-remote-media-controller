import{r as e,a as t,g as s,R as r,u as n,b as o,L as i,c as a,d as l,B as c}from"./react-vendor-Bl19J5gz.js";import{l as d}from"./socket-vendor-CUkmNz_4.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const s of e)if("childList"===s.type)for(const e of s.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();var u={exports:{}},h={},m=e,p=Symbol.for("react.element"),f=Symbol.for("react.fragment"),g=Object.prototype.hasOwnProperty,x=m.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,y={key:!0,ref:!0,__self:!0,__source:!0};function b(e,t,s){var r,n={},o=null,i=null;for(r in void 0!==s&&(o=""+s),void 0!==t.key&&(o=""+t.key),void 0!==t.ref&&(i=t.ref),t)g.call(t,r)&&!y.hasOwnProperty(r)&&(n[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===n[r]&&(n[r]=t[r]);return{$$typeof:p,type:e,key:o,ref:i,props:n,_owner:x.current}}h.Fragment=f,h.jsx=b,h.jsxs=b,u.exports=h;var j=u.exports,w={},v=t;w.createRoot=v.createRoot,w.hydrateRoot=v.hydrateRoot;const N={},S=e=>{let t;const s=new Set,r=(e,r)=>{const n="function"==typeof e?e(t):e;if(!Object.is(n,t)){const e=t;t=(null!=r?r:"object"!=typeof n||null===n)?n:Object.assign({},t,n),s.forEach(s=>s(t,e))}},n=()=>t,o={setState:r,getState:n,getInitialState:()=>i,subscribe:e=>(s.add(e),()=>s.delete(e)),destroy:()=>{"production"!==(N?"production":void 0)&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),s.clear()}},i=t=e(r,n,o);return o};var k={exports:{}},C={},E={exports:{}},O={},R=e;var T="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},P=R.useState,A=R.useEffect,L=R.useLayoutEffect,U=R.useDebugValue;function F(e){var t=e.getSnapshot;e=e.value;try{var s=t();return!T(e,s)}catch(r){return!0}}var D="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var s=t(),r=P({inst:{value:s,getSnapshot:t}}),n=r[0].inst,o=r[1];return L(function(){n.value=s,n.getSnapshot=t,F(n)&&o({inst:n})},[e,s,t]),A(function(){return F(n)&&o({inst:n}),e(function(){F(n)&&o({inst:n})})},[e]),U(s),s};O.useSyncExternalStore=void 0!==R.useSyncExternalStore?R.useSyncExternalStore:D,E.exports=O;var I=E.exports,B=e,M=I;
/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},q=M.useSyncExternalStore,W=B.useRef,z=B.useEffect,$=B.useMemo,V=B.useDebugValue;C.useSyncExternalStoreWithSelector=function(e,t,s,r,n){var o=W(null);if(null===o.current){var i={hasValue:!1,value:null};o.current=i}else i=o.current;o=$(function(){function e(e){if(!l){if(l=!0,o=e,e=r(e),void 0!==n&&i.hasValue){var t=i.value;if(n(t,e))return a=t}return a=e}if(t=a,_(o,e))return t;var s=r(e);return void 0!==n&&n(t,s)?(o=e,t):(o=e,a=s)}var o,a,l=!1,c=void 0===s?null:s;return[function(){return e(t())},null===c?void 0:function(){return e(c())}]},[t,s,r,n]);var a=q(e,o[0],o[1]);return z(function(){i.hasValue=!0,i.value=a},[a]),V(a),a},k.exports=C;const H=s(k.exports),Z={},{useDebugValue:J}=r,{useSyncExternalStoreWithSelector:K}=H;let G=!1;const X=e=>e;const Q=e=>{"production"!==(Z?"production":void 0)&&"function"!=typeof e&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t="function"==typeof e?(e=>e?S(e):S)(e):e,s=(e,s)=>function(e,t=X,s){"production"!==(Z?"production":void 0)&&s&&!G&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),G=!0);const r=K(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,s);return J(r),r}(t,e,s);return Object.assign(s,t),s},Y=e=>e?Q(e):Q,ee=Y((e,t)=>({slots:{},scenes:[],currentScene:null,images:[],isConnected:!1,isLoading:!1,setSlot:(t,s)=>e(e=>({slots:{...e.slots,[t]:s}})),setSlots:t=>e({slots:t}),clearSlot:t=>e(e=>({slots:{...e.slots,[t]:{imageId:null,imageUrl:null,updatedAt:null}}})),setScenes:t=>e({scenes:t}),addScene:t=>e(e=>({scenes:[...e.scenes,t]})),updateScene:(t,s)=>e(e=>({scenes:e.scenes.map(e=>e.id===t?{...e,...s}:e)})),deleteScene:t=>e(e=>({scenes:e.scenes.filter(e=>e.id!==t)})),setCurrentScene:t=>e({currentScene:t}),setImages:t=>e({images:t}),addImage:t=>e(e=>({images:[...e.images,t]})),deleteImage:t=>e(e=>({images:e.images.filter(e=>e.id!==t)})),setConnected:t=>e({isConnected:t}),setLoading:t=>e({isLoading:t})}));const te=new class{constructor(){this.socket=null,this.reconnectAttempts=0,this.maxReconnectAttempts=5}connect(){let e="/",t={reconnection:!0,reconnectionDelay:1e3,reconnectionDelayMax:5e3,reconnectionAttempts:this.maxReconnectAttempts,transports:["websocket","polling"]};{const s=new URL("wss://api.piogino.ch/obs".replace("wss://","https://"));e=`wss://${s.host}`,s.pathname&&"/"!==s.pathname&&(t.path=s.pathname+"/socket.io/")}this.socket=d(e,t),this.setupListeners()}setupListeners(){this.socket.on("connect",()=>{console.log("✅ WebSocket connected:",this.socket.id),ee.getState().setConnected(!0),this.reconnectAttempts=0}),this.socket.on("disconnect",e=>{console.log("❌ WebSocket disconnected:",e),ee.getState().setConnected(!1)}),this.socket.on("connect_error",e=>{console.error("WebSocket connection error:",e),this.reconnectAttempts++,this.reconnectAttempts>=this.maxReconnectAttempts&&console.error("Max reconnection attempts reached")}),this.socket.on("slot:updated",e=>{console.log("Slot updated:",e),ee.getState().setSlot(e.slot,{imageId:e.imageId,imageUrl:e.imageUrl,updatedAt:e.timestamp})}),this.socket.on("scene:loaded",e=>{console.log("Scene loaded:",e);const{slots:t}=e;Object.entries(t).forEach(([e,t])=>{ee.getState().setSlot(e,t)}),ee.getState().setCurrentScene(e.sceneId)}),this.socket.on("error",e=>{console.error("WebSocket error:",e)}),this.socket.on("pong",()=>{})}updateSlot(e,t,s=null){var r;(null==(r=this.socket)?void 0:r.connected)?this.socket.emit("slot:update",{slot:e,imageUrl:t,imageId:s}):console.error("WebSocket not connected")}loadScene(e){var t;(null==(t=this.socket)?void 0:t.connected)?this.socket.emit("scene:load",{sceneId:e}):console.error("WebSocket not connected")}clearSlot(e){var t;(null==(t=this.socket)?void 0:t.connected)?this.socket.emit("slot:clear",{slot:e}):console.error("WebSocket not connected")}ping(){var e;(null==(e=this.socket)?void 0:e.connected)&&this.socket.emit("ping")}disconnect(){this.socket&&(this.socket.disconnect(),this.socket=null)}};function se(){const[t]=n(),s=t.get("slot")||"1",r=ee(e=>e.slots);ee(e=>e.isConnected);const[o,i]=e.useState(!1),[a,l]=e.useState(null),c=r[s]||{},{imageUrl:d}=c;return e.useEffect(()=>{console.log(`Display page mounted for slot ${s}`),te.connect();const e=setInterval(()=>{te.ping()},3e4);return()=>{clearInterval(e)}},[s]),e.useEffect(()=>{if(d&&d!==a){i(!1);const e=setTimeout(()=>{l(d)},150);return()=>clearTimeout(e)}!d&&a&&(i(!1),l(null))},[d,a]),j.jsxs("div",{className:"fixed inset-0 w-screen h-screen overflow-hidden bg-transparent flex items-center justify-center",children:[a?j.jsx("img",{src:a,alt:`Slot ${s}`,className:"max-w-full max-h-full object-contain transition-opacity duration-300 "+(o?"opacity-100":"opacity-0"),onLoad:()=>i(!0),onError:e=>{console.error("Image failed to load:",a),e.target.style.display="none"},style:{imageRendering:"crisp-edges"}}):j.jsx("div",{className:"w-full h-full bg-transparent"}),!1]})}
/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const re=(...e)=>e.filter((e,t,s)=>Boolean(e)&&s.indexOf(e)===t).join(" ");
/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
var ne={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};
/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oe=e.forwardRef(({color:t="currentColor",size:s=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:o="",children:i,iconNode:a,...l},c)=>e.createElement("svg",{ref:c,...ne,width:s,height:s,stroke:t,strokeWidth:n?24*Number(r)/Number(s):r,className:re("lucide",o),...l},[...a.map(([t,s])=>e.createElement(t,s)),...Array.isArray(i)?i:[i]])),ie=(t,s)=>{const r=e.forwardRef(({className:r,...n},o)=>{return e.createElement(oe,{ref:o,iconNode:s,className:re(`lucide-${i=t,i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,r),...n});var i});return r.displayName=`${t}`,r},ae=ie("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]),le=ie("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]),ce=ie("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),de=ie("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),ue=ie("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),he=ie("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),me=ie("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),pe=ie("Clipboard",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}]]),fe=ie("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]),ge=ie("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]),xe=ie("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),ye=ie("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]),be=ie("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]),je=ie("MonitorPlay",[["path",{d:"M10 7.75a.75.75 0 0 1 1.142-.638l3.664 2.249a.75.75 0 0 1 0 1.278l-3.664 2.25a.75.75 0 0 1-1.142-.64z",key:"1pctta"}],["path",{d:"M12 17v4",key:"1riwvh"}],["path",{d:"M8 21h8",key:"1ev6f3"}],["rect",{x:"2",y:"3",width:"20",height:"14",rx:"2",key:"x3v2xh"}]]),we=ie("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]),ve=ie("PanelsTopLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]]),Ne=ie("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]),Se=ie("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),ke=ie("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),Ce=ie("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),Ee=ie("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]),Oe=ie("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),Re=ie("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),Te=ie("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),Pe=ie("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]),Ae=ie("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]),Le=ie("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);
/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */function Ue(e,t){return function(){return e.apply(t,arguments)}}const{toString:Fe}=Object.prototype,{getPrototypeOf:De}=Object,{iterator:Ie,toStringTag:Be}=Symbol,Me=(e=>t=>{const s=Fe.call(t);return e[s]||(e[s]=s.slice(8,-1).toLowerCase())})(Object.create(null)),_e=e=>(e=e.toLowerCase(),t=>Me(t)===e),qe=e=>t=>typeof t===e,{isArray:We}=Array,ze=qe("undefined");function $e(e){return null!==e&&!ze(e)&&null!==e.constructor&&!ze(e.constructor)&&Ze(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Ve=_e("ArrayBuffer");const He=qe("string"),Ze=qe("function"),Je=qe("number"),Ke=e=>null!==e&&"object"==typeof e,Ge=e=>{if("object"!==Me(e))return!1;const t=De(e);return!(null!==t&&t!==Object.prototype&&null!==Object.getPrototypeOf(t)||Be in e||Ie in e)},Xe=_e("Date"),Qe=_e("File"),Ye=_e("Blob"),et=_e("FileList"),tt=_e("URLSearchParams"),[st,rt,nt,ot]=["ReadableStream","Request","Response","Headers"].map(_e);function it(e,t,{allOwnKeys:s=!1}={}){if(null==e)return;let r,n;if("object"!=typeof e&&(e=[e]),We(e))for(r=0,n=e.length;r<n;r++)t.call(null,e[r],r,e);else{if($e(e))return;const n=s?Object.getOwnPropertyNames(e):Object.keys(e),o=n.length;let i;for(r=0;r<o;r++)i=n[r],t.call(null,e[i],i,e)}}function at(e,t){if($e(e))return null;t=t.toLowerCase();const s=Object.keys(e);let r,n=s.length;for(;n-- >0;)if(r=s[n],t===r.toLowerCase())return r;return null}const lt="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:global,ct=e=>!ze(e)&&e!==lt;const dt=(e=>t=>e&&t instanceof e)("undefined"!=typeof Uint8Array&&De(Uint8Array)),ut=_e("HTMLFormElement"),ht=(({hasOwnProperty:e})=>(t,s)=>e.call(t,s))(Object.prototype),mt=_e("RegExp"),pt=(e,t)=>{const s=Object.getOwnPropertyDescriptors(e),r={};it(s,(s,n)=>{let o;!1!==(o=t(s,n,e))&&(r[n]=o||s)}),Object.defineProperties(e,r)};const ft=_e("AsyncFunction"),gt=(xt="function"==typeof setImmediate,yt=Ze(lt.postMessage),xt?setImmediate:yt?(bt=`axios@${Math.random()}`,jt=[],lt.addEventListener("message",({source:e,data:t})=>{e===lt&&t===bt&&jt.length&&jt.shift()()},!1),e=>{jt.push(e),lt.postMessage(bt,"*")}):e=>setTimeout(e));var xt,yt,bt,jt;const wt="undefined"!=typeof queueMicrotask?queueMicrotask.bind(lt):"undefined"!=typeof process&&process.nextTick||gt,vt={isArray:We,isArrayBuffer:Ve,isBuffer:$e,isFormData:e=>{let t;return e&&("function"==typeof FormData&&e instanceof FormData||Ze(e.append)&&("formdata"===(t=Me(e))||"object"===t&&Ze(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&Ve(e.buffer),t},isString:He,isNumber:Je,isBoolean:e=>!0===e||!1===e,isObject:Ke,isPlainObject:Ge,isEmptyObject:e=>{if(!Ke(e)||$e(e))return!1;try{return 0===Object.keys(e).length&&Object.getPrototypeOf(e)===Object.prototype}catch(t){return!1}},isReadableStream:st,isRequest:rt,isResponse:nt,isHeaders:ot,isUndefined:ze,isDate:Xe,isFile:Qe,isBlob:Ye,isRegExp:mt,isFunction:Ze,isStream:e=>Ke(e)&&Ze(e.pipe),isURLSearchParams:tt,isTypedArray:dt,isFileList:et,forEach:it,merge:function e(){const{caseless:t,skipUndefined:s}=ct(this)&&this||{},r={},n=(n,o)=>{const i=t&&at(r,o)||o;Ge(r[i])&&Ge(n)?r[i]=e(r[i],n):Ge(n)?r[i]=e({},n):We(n)?r[i]=n.slice():s&&ze(n)||(r[i]=n)};for(let o=0,i=arguments.length;o<i;o++)arguments[o]&&it(arguments[o],n);return r},extend:(e,t,s,{allOwnKeys:r}={})=>(it(t,(t,r)=>{s&&Ze(t)?e[r]=Ue(t,s):e[r]=t},{allOwnKeys:r}),e),trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,s,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),s&&Object.assign(e.prototype,s)},toFlatObject:(e,t,s,r)=>{let n,o,i;const a={};if(t=t||{},null==e)return t;do{for(n=Object.getOwnPropertyNames(e),o=n.length;o-- >0;)i=n[o],r&&!r(i,e,t)||a[i]||(t[i]=e[i],a[i]=!0);e=!1!==s&&De(e)}while(e&&(!s||s(e,t))&&e!==Object.prototype);return t},kindOf:Me,kindOfTest:_e,endsWith:(e,t,s)=>{e=String(e),(void 0===s||s>e.length)&&(s=e.length),s-=t.length;const r=e.indexOf(t,s);return-1!==r&&r===s},toArray:e=>{if(!e)return null;if(We(e))return e;let t=e.length;if(!Je(t))return null;const s=new Array(t);for(;t-- >0;)s[t]=e[t];return s},forEachEntry:(e,t)=>{const s=(e&&e[Ie]).call(e);let r;for(;(r=s.next())&&!r.done;){const s=r.value;t.call(e,s[0],s[1])}},matchAll:(e,t)=>{let s;const r=[];for(;null!==(s=e.exec(t));)r.push(s);return r},isHTMLForm:ut,hasOwnProperty:ht,hasOwnProp:ht,reduceDescriptors:pt,freezeMethods:e=>{pt(e,(t,s)=>{if(Ze(e)&&-1!==["arguments","caller","callee"].indexOf(s))return!1;const r=e[s];Ze(r)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+s+"'")}))})},toObjectSet:(e,t)=>{const s={},r=e=>{e.forEach(e=>{s[e]=!0})};return We(e)?r(e):r(String(e).split(t)),s},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(e,t,s){return t.toUpperCase()+s}),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:at,global:lt,isContextDefined:ct,isSpecCompliantForm:function(e){return!!(e&&Ze(e.append)&&"FormData"===e[Be]&&e[Ie])},toJSONObject:e=>{const t=new Array(10),s=(e,r)=>{if(Ke(e)){if(t.indexOf(e)>=0)return;if($e(e))return e;if(!("toJSON"in e)){t[r]=e;const n=We(e)?[]:{};return it(e,(e,t)=>{const o=s(e,r+1);!ze(o)&&(n[t]=o)}),t[r]=void 0,n}}return e};return s(e,0)},isAsyncFn:ft,isThenable:e=>e&&(Ke(e)||Ze(e))&&Ze(e.then)&&Ze(e.catch),setImmediate:gt,asap:wt,isIterable:e=>null!=e&&Ze(e[Ie])};function Nt(e,t,s,r,n){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),s&&(this.config=s),r&&(this.request=r),n&&(this.response=n,this.status=n.status?n.status:null)}vt.inherits(Nt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:vt.toJSONObject(this.config),code:this.code,status:this.status}}});const St=Nt.prototype,kt={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{kt[e]={value:e}}),Object.defineProperties(Nt,kt),Object.defineProperty(St,"isAxiosError",{value:!0}),Nt.from=(e,t,s,r,n,o)=>{const i=Object.create(St);vt.toFlatObject(e,i,function(e){return e!==Error.prototype},e=>"isAxiosError"!==e);const a=e&&e.message?e.message:"Error",l=null==t&&e?e.code:t;return Nt.call(i,a,l,s,r,n),e&&null==i.cause&&Object.defineProperty(i,"cause",{value:e,configurable:!0}),i.name=e&&e.name||"Error",o&&Object.assign(i,o),i};function Ct(e){return vt.isPlainObject(e)||vt.isArray(e)}function Et(e){return vt.endsWith(e,"[]")?e.slice(0,-2):e}function Ot(e,t,s){return e?e.concat(t).map(function(e,t){return e=Et(e),!s&&t?"["+e+"]":e}).join(s?".":""):t}const Rt=vt.toFlatObject(vt,{},null,function(e){return/^is[A-Z]/.test(e)});function Tt(e,t,s){if(!vt.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const r=(s=vt.toFlatObject(s,{metaTokens:!0,dots:!1,indexes:!1},!1,function(e,t){return!vt.isUndefined(t[e])})).metaTokens,n=s.visitor||c,o=s.dots,i=s.indexes,a=(s.Blob||"undefined"!=typeof Blob&&Blob)&&vt.isSpecCompliantForm(t);if(!vt.isFunction(n))throw new TypeError("visitor must be a function");function l(e){if(null===e)return"";if(vt.isDate(e))return e.toISOString();if(vt.isBoolean(e))return e.toString();if(!a&&vt.isBlob(e))throw new Nt("Blob is not supported. Use a Buffer instead.");return vt.isArrayBuffer(e)||vt.isTypedArray(e)?a&&"function"==typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,s,n){let a=e;if(e&&!n&&"object"==typeof e)if(vt.endsWith(s,"{}"))s=r?s:s.slice(0,-2),e=JSON.stringify(e);else if(vt.isArray(e)&&function(e){return vt.isArray(e)&&!e.some(Ct)}(e)||(vt.isFileList(e)||vt.endsWith(s,"[]"))&&(a=vt.toArray(e)))return s=Et(s),a.forEach(function(e,r){!vt.isUndefined(e)&&null!==e&&t.append(!0===i?Ot([s],r,o):null===i?s:s+"[]",l(e))}),!1;return!!Ct(e)||(t.append(Ot(n,s,o),l(e)),!1)}const d=[],u=Object.assign(Rt,{defaultVisitor:c,convertValue:l,isVisitable:Ct});if(!vt.isObject(e))throw new TypeError("data must be an object");return function e(s,r){if(!vt.isUndefined(s)){if(-1!==d.indexOf(s))throw Error("Circular reference detected in "+r.join("."));d.push(s),vt.forEach(s,function(s,o){!0===(!(vt.isUndefined(s)||null===s)&&n.call(t,s,vt.isString(o)?o.trim():o,r,u))&&e(s,r?r.concat(o):[o])}),d.pop()}}(e),t}function Pt(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(e){return t[e]})}function At(e,t){this._pairs=[],e&&Tt(e,this,t)}const Lt=At.prototype;function Ut(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function Ft(e,t,s){if(!t)return e;const r=s&&s.encode||Ut;vt.isFunction(s)&&(s={serialize:s});const n=s&&s.serialize;let o;if(o=n?n(t,s):vt.isURLSearchParams(t)?t.toString():new At(t,s).toString(r),o){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+o}return e}Lt.append=function(e,t){this._pairs.push([e,t])},Lt.toString=function(e){const t=e?function(t){return e.call(this,t,Pt)}:Pt;return this._pairs.map(function(e){return t(e[0])+"="+t(e[1])},"").join("&")};class Dt{constructor(){this.handlers=[]}use(e,t,s){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!s&&s.synchronous,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){vt.forEach(this.handlers,function(t){null!==t&&e(t)})}}const It={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Bt={isBrowser:!0,classes:{URLSearchParams:"undefined"!=typeof URLSearchParams?URLSearchParams:At,FormData:"undefined"!=typeof FormData?FormData:null,Blob:"undefined"!=typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},Mt="undefined"!=typeof window&&"undefined"!=typeof document,_t="object"==typeof navigator&&navigator||void 0,qt=Mt&&(!_t||["ReactNative","NativeScript","NS"].indexOf(_t.product)<0),Wt="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"==typeof self.importScripts,zt=Mt&&window.location.href||"http://localhost",$t={...Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Mt,hasStandardBrowserEnv:qt,hasStandardBrowserWebWorkerEnv:Wt,navigator:_t,origin:zt},Symbol.toStringTag,{value:"Module"})),...Bt};function Vt(e){function t(e,s,r,n){let o=e[n++];if("__proto__"===o)return!0;const i=Number.isFinite(+o),a=n>=e.length;if(o=!o&&vt.isArray(r)?r.length:o,a)return vt.hasOwnProp(r,o)?r[o]=[r[o],s]:r[o]=s,!i;r[o]&&vt.isObject(r[o])||(r[o]=[]);return t(e,s,r[o],n)&&vt.isArray(r[o])&&(r[o]=function(e){const t={},s=Object.keys(e);let r;const n=s.length;let o;for(r=0;r<n;r++)o=s[r],t[o]=e[o];return t}(r[o])),!i}if(vt.isFormData(e)&&vt.isFunction(e.entries)){const s={};return vt.forEachEntry(e,(e,r)=>{t(function(e){return vt.matchAll(/\w+|\[(\w*)]/g,e).map(e=>"[]"===e[0]?"":e[1]||e[0])}(e),r,s,0)}),s}return null}const Ht={transitional:It,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const s=t.getContentType()||"",r=s.indexOf("application/json")>-1,n=vt.isObject(e);n&&vt.isHTMLForm(e)&&(e=new FormData(e));if(vt.isFormData(e))return r?JSON.stringify(Vt(e)):e;if(vt.isArrayBuffer(e)||vt.isBuffer(e)||vt.isStream(e)||vt.isFile(e)||vt.isBlob(e)||vt.isReadableStream(e))return e;if(vt.isArrayBufferView(e))return e.buffer;if(vt.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let o;if(n){if(s.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return Tt(e,new $t.classes.URLSearchParams,{visitor:function(e,t,s,r){return $t.isNode&&vt.isBuffer(e)?(this.append(t,e.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)},...t})}(e,this.formSerializer).toString();if((o=vt.isFileList(e))||s.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return Tt(o?{"files[]":e}:e,t&&new t,this.formSerializer)}}return n||r?(t.setContentType("application/json",!1),function(e,t,s){if(vt.isString(e))try{return(t||JSON.parse)(e),vt.trim(e)}catch(r){if("SyntaxError"!==r.name)throw r}return(s||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||Ht.transitional,s=t&&t.forcedJSONParsing,r="json"===this.responseType;if(vt.isResponse(e)||vt.isReadableStream(e))return e;if(e&&vt.isString(e)&&(s&&!this.responseType||r)){const s=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e,this.parseReviver)}catch(n){if(s){if("SyntaxError"===n.name)throw Nt.from(n,Nt.ERR_BAD_RESPONSE,this,null,this.response);throw n}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:$t.classes.FormData,Blob:$t.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};vt.forEach(["delete","get","head","post","put","patch"],e=>{Ht.headers[e]={}});const Zt=vt.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Jt=Symbol("internals");function Kt(e){return e&&String(e).trim().toLowerCase()}function Gt(e){return!1===e||null==e?e:vt.isArray(e)?e.map(Gt):String(e)}function Xt(e,t,s,r,n){return vt.isFunction(r)?r.call(this,t,s):(n&&(t=s),vt.isString(t)?vt.isString(r)?-1!==t.indexOf(r):vt.isRegExp(r)?r.test(t):void 0:void 0)}let Qt=class{constructor(e){e&&this.set(e)}set(e,t,s){const r=this;function n(e,t,s){const n=Kt(t);if(!n)throw new Error("header name must be a non-empty string");const o=vt.findKey(r,n);(!o||void 0===r[o]||!0===s||void 0===s&&!1!==r[o])&&(r[o||t]=Gt(e))}const o=(e,t)=>vt.forEach(e,(e,s)=>n(e,s,t));if(vt.isPlainObject(e)||e instanceof this.constructor)o(e,t);else if(vt.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))o((e=>{const t={};let s,r,n;return e&&e.split("\n").forEach(function(e){n=e.indexOf(":"),s=e.substring(0,n).trim().toLowerCase(),r=e.substring(n+1).trim(),!s||t[s]&&Zt[s]||("set-cookie"===s?t[s]?t[s].push(r):t[s]=[r]:t[s]=t[s]?t[s]+", "+r:r)}),t})(e),t);else if(vt.isObject(e)&&vt.isIterable(e)){let s,r,n={};for(const t of e){if(!vt.isArray(t))throw TypeError("Object iterator must return a key-value pair");n[r=t[0]]=(s=n[r])?vt.isArray(s)?[...s,t[1]]:[s,t[1]]:t[1]}o(n,t)}else null!=e&&n(t,e,s);return this}get(e,t){if(e=Kt(e)){const s=vt.findKey(this,e);if(s){const e=this[s];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),s=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=s.exec(e);)t[r[1]]=r[2];return t}(e);if(vt.isFunction(t))return t.call(this,e,s);if(vt.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=Kt(e)){const s=vt.findKey(this,e);return!(!s||void 0===this[s]||t&&!Xt(0,this[s],s,t))}return!1}delete(e,t){const s=this;let r=!1;function n(e){if(e=Kt(e)){const n=vt.findKey(s,e);!n||t&&!Xt(0,s[n],n,t)||(delete s[n],r=!0)}}return vt.isArray(e)?e.forEach(n):n(e),r}clear(e){const t=Object.keys(this);let s=t.length,r=!1;for(;s--;){const n=t[s];e&&!Xt(0,this[n],n,e,!0)||(delete this[n],r=!0)}return r}normalize(e){const t=this,s={};return vt.forEach(this,(r,n)=>{const o=vt.findKey(s,n);if(o)return t[o]=Gt(r),void delete t[n];const i=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,s)=>t.toUpperCase()+s)}(n):String(n).trim();i!==n&&delete t[n],t[i]=Gt(r),s[i]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return vt.forEach(this,(s,r)=>{null!=s&&!1!==s&&(t[r]=e&&vt.isArray(s)?s.join(", "):s)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join("\n")}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const s=new this(e);return t.forEach(e=>s.set(e)),s}static accessor(e){const t=(this[Jt]=this[Jt]={accessors:{}}).accessors,s=this.prototype;function r(e){const r=Kt(e);t[r]||(!function(e,t){const s=vt.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+s,{value:function(e,s,n){return this[r].call(this,t,e,s,n)},configurable:!0})})}(s,e),t[r]=!0)}return vt.isArray(e)?e.forEach(r):r(e),this}};function Yt(e,t){const s=this||Ht,r=t||s,n=Qt.from(r.headers);let o=r.data;return vt.forEach(e,function(e){o=e.call(s,o,n.normalize(),t?t.status:void 0)}),n.normalize(),o}function es(e){return!(!e||!e.__CANCEL__)}function ts(e,t,s){Nt.call(this,null==e?"canceled":e,Nt.ERR_CANCELED,t,s),this.name="CanceledError"}function ss(e,t,s){const r=s.config.validateStatus;s.status&&r&&!r(s.status)?t(new Nt("Request failed with status code "+s.status,[Nt.ERR_BAD_REQUEST,Nt.ERR_BAD_RESPONSE][Math.floor(s.status/100)-4],s.config,s.request,s)):e(s)}Qt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),vt.reduceDescriptors(Qt.prototype,({value:e},t)=>{let s=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(e){this[s]=e}}}),vt.freezeMethods(Qt),vt.inherits(ts,Nt,{__CANCEL__:!0});const rs=(e,t,s=3)=>{let r=0;const n=function(e,t){e=e||10;const s=new Array(e),r=new Array(e);let n,o=0,i=0;return t=void 0!==t?t:1e3,function(a){const l=Date.now(),c=r[i];n||(n=l),s[o]=a,r[o]=l;let d=i,u=0;for(;d!==o;)u+=s[d++],d%=e;if(o=(o+1)%e,o===i&&(i=(i+1)%e),l-n<t)return;const h=c&&l-c;return h?Math.round(1e3*u/h):void 0}}(50,250);return function(e,t){let s,r,n=0,o=1e3/t;const i=(t,o=Date.now())=>{n=o,s=null,r&&(clearTimeout(r),r=null),e(...t)};return[(...e)=>{const t=Date.now(),a=t-n;a>=o?i(e,t):(s=e,r||(r=setTimeout(()=>{r=null,i(s)},o-a)))},()=>s&&i(s)]}(s=>{const o=s.loaded,i=s.lengthComputable?s.total:void 0,a=o-r,l=n(a);r=o;e({loaded:o,total:i,progress:i?o/i:void 0,bytes:a,rate:l||void 0,estimated:l&&i&&o<=i?(i-o)/l:void 0,event:s,lengthComputable:null!=i,[t?"download":"upload"]:!0})},s)},ns=(e,t)=>{const s=null!=e;return[r=>t[0]({lengthComputable:s,total:e,loaded:r}),t[1]]},os=e=>(...t)=>vt.asap(()=>e(...t)),is=$t.hasStandardBrowserEnv?((e,t)=>s=>(s=new URL(s,$t.origin),e.protocol===s.protocol&&e.host===s.host&&(t||e.port===s.port)))(new URL($t.origin),$t.navigator&&/(msie|trident)/i.test($t.navigator.userAgent)):()=>!0,as=$t.hasStandardBrowserEnv?{write(e,t,s,r,n,o){const i=[e+"="+encodeURIComponent(t)];vt.isNumber(s)&&i.push("expires="+new Date(s).toGMTString()),vt.isString(r)&&i.push("path="+r),vt.isString(n)&&i.push("domain="+n),!0===o&&i.push("secure"),document.cookie=i.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function ls(e,t,s){let r=!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t);return e&&(r||0==s)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const cs=e=>e instanceof Qt?{...e}:e;function ds(e,t){t=t||{};const s={};function r(e,t,s,r){return vt.isPlainObject(e)&&vt.isPlainObject(t)?vt.merge.call({caseless:r},e,t):vt.isPlainObject(t)?vt.merge({},t):vt.isArray(t)?t.slice():t}function n(e,t,s,n){return vt.isUndefined(t)?vt.isUndefined(e)?void 0:r(void 0,e,0,n):r(e,t,0,n)}function o(e,t){if(!vt.isUndefined(t))return r(void 0,t)}function i(e,t){return vt.isUndefined(t)?vt.isUndefined(e)?void 0:r(void 0,e):r(void 0,t)}function a(s,n,o){return o in t?r(s,n):o in e?r(void 0,s):void 0}const l={url:o,method:o,data:o,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:a,headers:(e,t,s)=>n(cs(e),cs(t),0,!0)};return vt.forEach(Object.keys({...e,...t}),function(r){const o=l[r]||n,i=o(e[r],t[r],r);vt.isUndefined(i)&&o!==a||(s[r]=i)}),s}const us=e=>{const t=ds({},e);let{data:s,withXSRFToken:r,xsrfHeaderName:n,xsrfCookieName:o,headers:i,auth:a}=t;if(t.headers=i=Qt.from(i),t.url=Ft(ls(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),a&&i.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):""))),vt.isFormData(s))if($t.hasStandardBrowserEnv||$t.hasStandardBrowserWebWorkerEnv)i.setContentType(void 0);else if(vt.isFunction(s.getHeaders)){const e=s.getHeaders(),t=["content-type","content-length"];Object.entries(e).forEach(([e,s])=>{t.includes(e.toLowerCase())&&i.set(e,s)})}if($t.hasStandardBrowserEnv&&(r&&vt.isFunction(r)&&(r=r(t)),r||!1!==r&&is(t.url))){const e=n&&o&&as.read(o);e&&i.set(n,e)}return t},hs="undefined"!=typeof XMLHttpRequest&&function(e){return new Promise(function(t,s){const r=us(e);let n=r.data;const o=Qt.from(r.headers).normalize();let i,a,l,c,d,{responseType:u,onUploadProgress:h,onDownloadProgress:m}=r;function p(){c&&c(),d&&d(),r.cancelToken&&r.cancelToken.unsubscribe(i),r.signal&&r.signal.removeEventListener("abort",i)}let f=new XMLHttpRequest;function g(){if(!f)return;const r=Qt.from("getAllResponseHeaders"in f&&f.getAllResponseHeaders());ss(function(e){t(e),p()},function(e){s(e),p()},{data:u&&"text"!==u&&"json"!==u?f.response:f.responseText,status:f.status,statusText:f.statusText,headers:r,config:e,request:f}),f=null}f.open(r.method.toUpperCase(),r.url,!0),f.timeout=r.timeout,"onloadend"in f?f.onloadend=g:f.onreadystatechange=function(){f&&4===f.readyState&&(0!==f.status||f.responseURL&&0===f.responseURL.indexOf("file:"))&&setTimeout(g)},f.onabort=function(){f&&(s(new Nt("Request aborted",Nt.ECONNABORTED,e,f)),f=null)},f.onerror=function(t){const r=new Nt(t&&t.message?t.message:"Network Error",Nt.ERR_NETWORK,e,f);r.event=t||null,s(r),f=null},f.ontimeout=function(){let t=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const n=r.transitional||It;r.timeoutErrorMessage&&(t=r.timeoutErrorMessage),s(new Nt(t,n.clarifyTimeoutError?Nt.ETIMEDOUT:Nt.ECONNABORTED,e,f)),f=null},void 0===n&&o.setContentType(null),"setRequestHeader"in f&&vt.forEach(o.toJSON(),function(e,t){f.setRequestHeader(t,e)}),vt.isUndefined(r.withCredentials)||(f.withCredentials=!!r.withCredentials),u&&"json"!==u&&(f.responseType=r.responseType),m&&([l,d]=rs(m,!0),f.addEventListener("progress",l)),h&&f.upload&&([a,c]=rs(h),f.upload.addEventListener("progress",a),f.upload.addEventListener("loadend",c)),(r.cancelToken||r.signal)&&(i=t=>{f&&(s(!t||t.type?new ts(null,e,f):t),f.abort(),f=null)},r.cancelToken&&r.cancelToken.subscribe(i),r.signal&&(r.signal.aborted?i():r.signal.addEventListener("abort",i)));const x=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(r.url);x&&-1===$t.protocols.indexOf(x)?s(new Nt("Unsupported protocol "+x+":",Nt.ERR_BAD_REQUEST,e)):f.send(n||null)})},ms=(e,t)=>{const{length:s}=e=e?e.filter(Boolean):[];if(t||s){let s,r=new AbortController;const n=function(e){if(!s){s=!0,i();const t=e instanceof Error?e:this.reason;r.abort(t instanceof Nt?t:new ts(t instanceof Error?t.message:t))}};let o=t&&setTimeout(()=>{o=null,n(new Nt(`timeout ${t} of ms exceeded`,Nt.ETIMEDOUT))},t);const i=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(e=>{e.unsubscribe?e.unsubscribe(n):e.removeEventListener("abort",n)}),e=null)};e.forEach(e=>e.addEventListener("abort",n));const{signal:a}=r;return a.unsubscribe=()=>vt.asap(i),a}},ps=function*(e,t){let s=e.byteLength;if(s<t)return void(yield e);let r,n=0;for(;n<s;)r=n+t,yield e.slice(n,r),n=r},fs=async function*(e){if(e[Symbol.asyncIterator])return void(yield*e);const t=e.getReader();try{for(;;){const{done:e,value:s}=await t.read();if(e)break;yield s}}finally{await t.cancel()}},gs=(e,t,s,r)=>{const n=async function*(e,t){for await(const s of fs(e))yield*ps(s,t)}(e,t);let o,i=0,a=e=>{o||(o=!0,r&&r(e))};return new ReadableStream({async pull(e){try{const{done:t,value:r}=await n.next();if(t)return a(),void e.close();let o=r.byteLength;if(s){let e=i+=o;s(e)}e.enqueue(new Uint8Array(r))}catch(t){throw a(t),t}},cancel:e=>(a(e),n.return())},{highWaterMark:2})},{isFunction:xs}=vt,ys=(({Request:e,Response:t})=>({Request:e,Response:t}))(vt.global),{ReadableStream:bs,TextEncoder:js}=vt.global,ws=(e,...t)=>{try{return!!e(...t)}catch(s){return!1}},vs=e=>{e=vt.merge.call({skipUndefined:!0},ys,e);const{fetch:t,Request:s,Response:r}=e,n=t?xs(t):"function"==typeof fetch,o=xs(s),i=xs(r);if(!n)return!1;const a=n&&xs(bs),l=n&&("function"==typeof js?(e=>t=>e.encode(t))(new js):async e=>new Uint8Array(await new s(e).arrayBuffer())),c=o&&a&&ws(()=>{let e=!1;const t=new s($t.origin,{body:new bs,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),d=i&&a&&ws(()=>vt.isReadableStream(new r("").body)),u={stream:d&&(e=>e.body)};n&&["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!u[e]&&(u[e]=(t,s)=>{let r=t&&t[e];if(r)return r.call(t);throw new Nt(`Response type '${e}' is not supported`,Nt.ERR_NOT_SUPPORT,s)})});const h=async(e,t)=>{const r=vt.toFiniteNumber(e.getContentLength());return null==r?(async e=>{if(null==e)return 0;if(vt.isBlob(e))return e.size;if(vt.isSpecCompliantForm(e)){const t=new s($t.origin,{method:"POST",body:e});return(await t.arrayBuffer()).byteLength}return vt.isArrayBufferView(e)||vt.isArrayBuffer(e)?e.byteLength:(vt.isURLSearchParams(e)&&(e+=""),vt.isString(e)?(await l(e)).byteLength:void 0)})(t):r};return async e=>{let{url:n,method:i,data:a,signal:l,cancelToken:m,timeout:p,onDownloadProgress:f,onUploadProgress:g,responseType:x,headers:y,withCredentials:b="same-origin",fetchOptions:j}=us(e),w=t||fetch;x=x?(x+"").toLowerCase():"text";let v=ms([l,m&&m.toAbortSignal()],p),N=null;const S=v&&v.unsubscribe&&(()=>{v.unsubscribe()});let k;try{if(g&&c&&"get"!==i&&"head"!==i&&0!==(k=await h(y,a))){let e,t=new s(n,{method:"POST",body:a,duplex:"half"});if(vt.isFormData(a)&&(e=t.headers.get("content-type"))&&y.setContentType(e),t.body){const[e,s]=ns(k,rs(os(g)));a=gs(t.body,65536,e,s)}}vt.isString(b)||(b=b?"include":"omit");const t=o&&"credentials"in s.prototype,l={...j,signal:v,method:i.toUpperCase(),headers:y.normalize().toJSON(),body:a,duplex:"half",credentials:t?b:void 0};N=o&&new s(n,l);let m=await(o?w(N,j):w(n,l));const p=d&&("stream"===x||"response"===x);if(d&&(f||p&&S)){const e={};["status","statusText","headers"].forEach(t=>{e[t]=m[t]});const t=vt.toFiniteNumber(m.headers.get("content-length")),[s,n]=f&&ns(t,rs(os(f),!0))||[];m=new r(gs(m.body,65536,s,()=>{n&&n(),S&&S()}),e)}x=x||"text";let C=await u[vt.findKey(u,x)||"text"](m,e);return!p&&S&&S(),await new Promise((t,s)=>{ss(t,s,{data:C,headers:Qt.from(m.headers),status:m.status,statusText:m.statusText,config:e,request:N})})}catch(C){if(S&&S(),C&&"TypeError"===C.name&&/Load failed|fetch/i.test(C.message))throw Object.assign(new Nt("Network Error",Nt.ERR_NETWORK,e,N),{cause:C.cause||C});throw Nt.from(C,C&&C.code,e,N)}}},Ns=new Map,Ss=e=>{let t=e?e.env:{};const{fetch:s,Request:r,Response:n}=t,o=[r,n,s];let i,a,l=o.length,c=Ns;for(;l--;)i=o[l],a=c.get(i),void 0===a&&c.set(i,a=l?new Map:vs(t)),c=a;return a};Ss();const ks={http:null,xhr:hs,fetch:{get:Ss}};vt.forEach(ks,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(s){}Object.defineProperty(e,"adapterName",{value:t})}});const Cs=e=>`- ${e}`,Es=e=>vt.isFunction(e)||null===e||!1===e,Os=(e,t)=>{e=vt.isArray(e)?e:[e];const{length:s}=e;let r,n;const o={};for(let i=0;i<s;i++){let s;if(r=e[i],n=r,!Es(r)&&(n=ks[(s=String(r)).toLowerCase()],void 0===n))throw new Nt(`Unknown adapter '${s}'`);if(n&&(vt.isFunction(n)||(n=n.get(t))))break;o[s||"#"+i]=n}if(!n){const e=Object.entries(o).map(([e,t])=>`adapter ${e} `+(!1===t?"is not supported by the environment":"is not available in the build"));throw new Nt("There is no suitable adapter to dispatch the request "+(s?e.length>1?"since :\n"+e.map(Cs).join("\n"):" "+Cs(e[0]):"as no adapter specified"),"ERR_NOT_SUPPORT")}return n};function Rs(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new ts(null,e)}function Ts(e){Rs(e),e.headers=Qt.from(e.headers),e.data=Yt.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return Os(e.adapter||Ht.adapter,e)(e).then(function(t){return Rs(e),t.data=Yt.call(e,e.transformResponse,t),t.headers=Qt.from(t.headers),t},function(t){return es(t)||(Rs(e),t&&t.response&&(t.response.data=Yt.call(e,e.transformResponse,t.response),t.response.headers=Qt.from(t.response.headers))),Promise.reject(t)})}const Ps="1.12.2",As={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{As[e]=function(s){return typeof s===e||"a"+(t<1?"n ":" ")+e}});const Ls={};As.transitional=function(e,t,s){function r(e,t){return"[Axios v"+Ps+"] Transitional option '"+e+"'"+t+(s?". "+s:"")}return(s,n,o)=>{if(!1===e)throw new Nt(r(n," has been removed"+(t?" in "+t:"")),Nt.ERR_DEPRECATED);return t&&!Ls[n]&&(Ls[n]=!0,console.warn(r(n," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(s,n,o)}},As.spelling=function(e){return(t,s)=>(console.warn(`${s} is likely a misspelling of ${e}`),!0)};const Us={assertOptions:function(e,t,s){if("object"!=typeof e)throw new Nt("options must be an object",Nt.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let n=r.length;for(;n-- >0;){const o=r[n],i=t[o];if(i){const t=e[o],s=void 0===t||i(t,o,e);if(!0!==s)throw new Nt("option "+o+" must be "+s,Nt.ERR_BAD_OPTION_VALUE);continue}if(!0!==s)throw new Nt("Unknown option "+o,Nt.ERR_BAD_OPTION)}},validators:As},Fs=Us.validators;let Ds=class{constructor(e){this.defaults=e||{},this.interceptors={request:new Dt,response:new Dt}}async request(e,t){try{return await this._request(e,t)}catch(s){if(s instanceof Error){let e={};Error.captureStackTrace?Error.captureStackTrace(e):e=new Error;const t=e.stack?e.stack.replace(/^.+\n/,""):"";try{s.stack?t&&!String(s.stack).endsWith(t.replace(/^.+\n.+\n/,""))&&(s.stack+="\n"+t):s.stack=t}catch(r){}}throw s}}_request(e,t){"string"==typeof e?(t=t||{}).url=e:t=e||{},t=ds(this.defaults,t);const{transitional:s,paramsSerializer:r,headers:n}=t;void 0!==s&&Us.assertOptions(s,{silentJSONParsing:Fs.transitional(Fs.boolean),forcedJSONParsing:Fs.transitional(Fs.boolean),clarifyTimeoutError:Fs.transitional(Fs.boolean)},!1),null!=r&&(vt.isFunction(r)?t.paramsSerializer={serialize:r}:Us.assertOptions(r,{encode:Fs.function,serialize:Fs.function},!0)),void 0!==t.allowAbsoluteUrls||(void 0!==this.defaults.allowAbsoluteUrls?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),Us.assertOptions(t,{baseUrl:Fs.spelling("baseURL"),withXsrfToken:Fs.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let o=n&&vt.merge(n.common,n[t.method]);n&&vt.forEach(["delete","get","head","post","put","patch","common"],e=>{delete n[e]}),t.headers=Qt.concat(o,n);const i=[];let a=!0;this.interceptors.request.forEach(function(e){"function"==typeof e.runWhen&&!1===e.runWhen(t)||(a=a&&e.synchronous,i.unshift(e.fulfilled,e.rejected))});const l=[];let c;this.interceptors.response.forEach(function(e){l.push(e.fulfilled,e.rejected)});let d,u=0;if(!a){const e=[Ts.bind(this),void 0];for(e.unshift(...i),e.push(...l),d=e.length,c=Promise.resolve(t);u<d;)c=c.then(e[u++],e[u++]);return c}d=i.length;let h=t;for(;u<d;){const e=i[u++],t=i[u++];try{h=e(h)}catch(m){t.call(this,m);break}}try{c=Ts.call(this,h)}catch(m){return Promise.reject(m)}for(u=0,d=l.length;u<d;)c=c.then(l[u++],l[u++]);return c}getUri(e){return Ft(ls((e=ds(this.defaults,e)).baseURL,e.url,e.allowAbsoluteUrls),e.params,e.paramsSerializer)}};vt.forEach(["delete","get","head","options"],function(e){Ds.prototype[e]=function(t,s){return this.request(ds(s||{},{method:e,url:t,data:(s||{}).data}))}}),vt.forEach(["post","put","patch"],function(e){function t(t){return function(s,r,n){return this.request(ds(n||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:s,data:r}))}}Ds.prototype[e]=t(),Ds.prototype[e+"Form"]=t(!0)});const Is={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Is).forEach(([e,t])=>{Is[t]=e});const Bs=function e(t){const s=new Ds(t),r=Ue(Ds.prototype.request,s);return vt.extend(r,Ds.prototype,s,{allOwnKeys:!0}),vt.extend(r,s,null,{allOwnKeys:!0}),r.create=function(s){return e(ds(t,s))},r}(Ht);Bs.Axios=Ds,Bs.CanceledError=ts,Bs.CancelToken=class e{constructor(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(e){t=e});const s=this;this.promise.then(e=>{if(!s._listeners)return;let t=s._listeners.length;for(;t-- >0;)s._listeners[t](e);s._listeners=null}),this.promise.then=e=>{let t;const r=new Promise(e=>{s.subscribe(e),t=e}).then(e);return r.cancel=function(){s.unsubscribe(t)},r},e(function(e,r,n){s.reason||(s.reason=new ts(e,r,n),t(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=t=>{e.abort(t)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let t;return{token:new e(function(e){t=e}),cancel:t}}},Bs.isCancel=es,Bs.VERSION=Ps,Bs.toFormData=Tt,Bs.AxiosError=Nt,Bs.Cancel=Bs.CanceledError,Bs.all=function(e){return Promise.all(e)},Bs.spread=function(e){return function(t){return e.apply(null,t)}},Bs.isAxiosError=function(e){return vt.isObject(e)&&!0===e.isAxiosError},Bs.mergeConfig=ds,Bs.AxiosHeaders=Qt,Bs.formToJSON=e=>Vt(vt.isHTMLForm(e)?new FormData(e):e),Bs.getAdapter=Os,Bs.HttpStatusCode=Is,Bs.default=Bs;const{Axios:Ms,AxiosError:_s,CanceledError:qs,isCancel:Ws,CancelToken:zs,VERSION:$s,all:Vs,Cancel:Hs,isAxiosError:Zs,spread:Js,toFormData:Ks,AxiosHeaders:Gs,HttpStatusCode:Xs,formToJSON:Qs,getAdapter:Ys,mergeConfig:er}=Bs,tr=Bs.create({baseURL:"https://api.piogino.ch/obs/api",timeout:1e4,headers:{"Content-Type":"application/json"}});tr.interceptors.request.use(e=>e,e=>Promise.reject(e)),tr.interceptors.response.use(e=>e.data,e=>e.response?(console.error("API Error:",e.response.data),Promise.reject(e.response.data)):e.request?(console.error("Network Error:",e.request),Promise.reject({message:"Network error. Please check your connection."})):(console.error("Error:",e.message),Promise.reject({message:e.message})));const sr=()=>tr.get("/slots"),rr=(e,t)=>tr.put(`/slots/${e}`,t),nr=e=>tr.delete(`/slots/${e}`),or=()=>tr.get("/scenes"),ir=e=>tr.post("/scenes",e),ar=e=>tr.delete(`/scenes/${e}`),lr=e=>tr.post(`/scenes/${e}/load`),cr=e=>tr.post(`/scenes/${e}/capture`),dr=e=>{const t=new FormData;return t.append("image",e),tr.post("/images/upload",t,{headers:{"Content-Type":"multipart/form-data"}})},ur=(e,t)=>tr.post("/images/url",{url:e,name:t}),hr=e=>tr.delete(`/images/${e}`),mr=Y(e=>({toasts:[],addToast:t=>{const s=Date.now()+Math.random(),r={id:s,type:"info",message:"",duration:3e3,...t};return e(e=>({toasts:[...e.toasts,r]})),r.duration>0&&setTimeout(()=>{e(e=>({toasts:e.toasts.filter(e=>e.id!==s)}))},r.duration),s},removeToast:t=>{e(e=>({toasts:e.toasts.filter(e=>e.id!==t)}))},success:(e,t)=>mr.getState().addToast({type:"success",message:e,duration:t}),error:(e,t)=>mr.getState().addToast({type:"error",message:e,duration:t}),warning:(e,t)=>mr.getState().addToast({type:"warning",message:e,duration:t}),info:(e,t)=>mr.getState().addToast({type:"info",message:e,duration:t})}));function pr(){const e=o(),t=[{path:"/control",label:"Control",icon:ve},{path:"/scenes",label:"Scenes",icon:ye},{path:"/library",label:"Library",icon:ge},{path:"/help",label:"Help",icon:me}];return j.jsx("header",{className:"bg-white border-b border-gray-200 sticky top-0 z-50",children:j.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:j.jsxs("div",{className:"flex items-center justify-between h-16",children:[j.jsxs(i,{to:"/",className:"flex items-center space-x-2",children:[j.jsx(je,{className:"w-8 h-8 text-primary-600"}),j.jsx("span",{className:"font-bold text-xl text-gray-900",children:"OBS Media Controller"})]}),j.jsx("nav",{className:"flex space-x-1",children:t.map(t=>{const s=t.icon,r=e.pathname===t.path||"/"===e.pathname&&"/control"===t.path;return j.jsxs(i,{to:t.path,className:"flex items-center space-x-2 px-4 py-2 rounded-lg text-sm font-medium transition-colors "+(r?"bg-primary-50 text-primary-700":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"),children:[j.jsx(s,{className:"w-4 h-4"}),j.jsx("span",{className:"hidden sm:inline",children:t.label})]},t.path)})})]})})})}function fr({isConnected:e}){return e?j.jsxs("div",{className:"mb-6 bg-green-50 border border-green-200 rounded-lg p-4 flex items-center space-x-3",children:[j.jsx(Ae,{className:"w-5 h-5 text-green-600"}),j.jsxs("div",{children:[j.jsx("p",{className:"text-sm font-medium text-green-900",children:"Connected"}),j.jsx("p",{className:"text-xs text-green-700",children:"Real-time updates active"})]})]}):j.jsxs("div",{className:"mb-6 bg-red-50 border border-red-200 rounded-lg p-4 flex items-center space-x-3",children:[j.jsx(Pe,{className:"w-5 h-5 text-red-600"}),j.jsxs("div",{children:[j.jsx("p",{className:"text-sm font-medium text-red-900",children:"Disconnected"}),j.jsx("p",{className:"text-xs text-red-700",children:"Attempting to reconnect..."})]})]})}function gr({slotId:t,slotData:s}){const r=ee(e=>e.clearSlot);ee(e=>e.setSlot);const[n,o]=e.useState(!1),[i,a]=e.useState(""),[l,c]=e.useState(!1),[d,u]=e.useState(!1),[h,m]=e.useState(!1),p=e.useRef(null),f=e.useRef(null),{imageUrl:g,updatedAt:x}=s;e.useEffect(()=>{u("undefined"!=typeof navigator&&navigator.clipboard&&"function"==typeof navigator.clipboard.read)},[]),e.useEffect(()=>{const e=async e=>{var t;if(!h)return;e.preventDefault();const s=null==(t=e.clipboardData)?void 0:t.items;if(s){for(let e=0;e<s.length;e++)if(-1!==s[e].type.indexOf("image")){const t=s[e].getAsFile();if(t){const e=new File([t],`pasted-${Date.now()}.png`,{type:t.type});return await y(e),void m(!1)}}mr.getState().warning("No image found in clipboard. Please copy an image first.")}};if(h&&f.current)return f.current.addEventListener("paste",e),f.current.focus(),()=>{var t;null==(t=f.current)||t.removeEventListener("paste",e)}},[h]);const y=async e=>{try{c(!0);const s=await dr(e);if(s.success){const e=s.data,r=e.url;await rr(t,{imageId:e.id,imageUrl:r}),te.updateSlot(t,r,e.id),mr.getState().success(`Image uploaded to Slot ${t}`)}}catch(s){console.error("Failed to upload image:",s),mr.getState().error("Failed to upload image. Please try again.")}finally{c(!1),p.current&&(p.current.value="")}};return j.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4 sm:p-6",children:[j.jsxs("div",{className:"flex items-start justify-between mb-4",children:[j.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Slot ",t]}),g&&j.jsx("button",{onClick:async()=>{try{await nr(t),te.clearSlot(t),r(t)}catch(e){console.error("Failed to clear slot:",e)}},className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Clear slot",children:j.jsx(Le,{className:"w-5 h-5"})})]}),j.jsxs("div",{className:"mb-4",children:[g?j.jsx("div",{className:"relative aspect-video bg-gray-900 rounded-lg overflow-hidden",children:j.jsx("img",{src:g,alt:`Slot ${t}`,className:"w-full h-full object-contain",onError:e=>{e.target.src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAwIiBoZWlnaHQ9IjMwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cmVjdCB3aWR0aD0iNDAwIiBoZWlnaHQ9IjMwMCIgZmlsbD0iI2VlZSIvPjx0ZXh0IHg9IjUwJSIgeT0iNTAlIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxOCIgZmlsbD0iIzk5OSIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZG9taW5hbnQtYmFzZWxpbmU9Im1pZGRsZSI+SW1hZ2UgTm90IEZvdW5kPC90ZXh0Pjwvc3ZnPg=="}})}):j.jsx("div",{className:"aspect-video bg-gray-100 rounded-lg flex items-center justify-center",children:j.jsxs("div",{className:"text-center text-gray-400",children:[j.jsx(ge,{className:"w-12 h-12 mx-auto mb-2"}),j.jsx("p",{className:"text-sm",children:"No image"})]})}),x&&j.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:["Updated: ",new Date(x).toLocaleString()]})]}),j.jsxs("div",{className:"space-y-2",children:[h&&j.jsxs("div",{className:"relative",children:[j.jsxs("div",{ref:f,contentEditable:!0,tabIndex:0,className:"w-full px-4 py-8 border-2 border-dashed border-blue-400 bg-blue-50 rounded-lg text-center text-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 cursor-text",children:[j.jsx(pe,{className:"w-8 h-8 mx-auto mb-2"}),j.jsx("p",{className:"font-medium",children:"Click here and press Ctrl+V (⌘+V on Mac)"}),j.jsx("p",{className:"text-sm mt-1",children:"Paste your image from clipboard"})]}),j.jsx("button",{onClick:()=>m(!1),className:"absolute top-2 right-2 p-1 bg-white rounded-full shadow-sm hover:bg-gray-100",children:j.jsx(Le,{className:"w-4 h-4 text-gray-600"})})]}),n?j.jsxs("form",{onSubmit:async e=>{if(e.preventDefault(),i.trim())try{await rr(t,{imageUrl:i}),te.updateSlot(t,i),a(""),o(!1),mr.getState().success(`Slot ${t} updated successfully`)}catch(s){console.error("Failed to update slot:",s),mr.getState().error("Failed to update slot. Please try again.")}},className:"flex space-x-2",children:[j.jsx("input",{type:"url",value:i,onChange:e=>a(e.target.value),placeholder:"https://example.com/image.png",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-primary-500",autoFocus:!0}),j.jsx("button",{type:"submit",className:"px-4 py-2 bg-primary-600 text-white rounded-lg text-sm font-medium hover:bg-primary-700",children:"Set"}),j.jsx("button",{type:"button",onClick:()=>{o(!1),a("")},className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg text-sm font-medium hover:bg-gray-200",children:"Cancel"})]}):j.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[j.jsxs("button",{onClick:()=>o(!0),className:"flex items-center justify-center space-x-2 px-4 py-3 bg-white border-2 border-gray-300 rounded-lg text-sm font-medium text-gray-700 hover:border-primary-400 hover:text-primary-600 transition-colors",children:[j.jsx(be,{className:"w-4 h-4"}),j.jsx("span",{children:"URL"})]}),j.jsxs("button",{onClick:()=>{var e;return null==(e=p.current)?void 0:e.click()},disabled:l,className:"flex items-center justify-center space-x-2 px-4 py-3 bg-primary-600 text-white rounded-lg text-sm font-medium hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[j.jsx(Te,{className:"w-4 h-4"}),j.jsx("span",{children:"Upload"})]}),d&&j.jsxs("button",{onClick:async()=>{try{if(c(!0),navigator.clipboard&&navigator.clipboard.read)try{const e=await navigator.clipboard.read();let t=null;for(const s of e){const e=s.types.find(e=>e.startsWith("image/"));if(e){const r=await s.getType(e);t=new File([r],`clipboard-${Date.now()}.png`,{type:e});break}}return t?void(await y(t)):(mr.getState().info("No image in clipboard. Try: Copy an image, then click Paste again."),void c(!1))}catch(e){console.log("Clipboard API failed, trying paste event approach:",e)}m(!0),mr.getState().info("Click in the blue box below, then press Ctrl+V (Cmd+V on Mac) to paste."),c(!1)}catch(t){console.error("Failed to paste from clipboard:",t),m(!0),mr.getState().info("Click in the blue box below, then press Ctrl+V (Cmd+V on Mac) to paste."),c(!1)}},disabled:l,className:"flex items-center justify-center space-x-2 px-4 py-3 bg-green-600 text-white rounded-lg text-sm font-medium hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",title:"Paste image from clipboard",children:[j.jsx(pe,{className:"w-4 h-4"}),j.jsx("span",{children:"Paste"})]}),j.jsx("input",{ref:p,type:"file",accept:"image/png,image/jpeg,image/jpg,image/gif,image/webp",onChange:async e=>{var t;const s=null==(t=e.target.files)?void 0:t[0];s&&await y(s)},className:"hidden"})]})]})]})}function xr({isOpen:t,onClose:s,title:r,children:n,maxWidth:o="max-w-md"}){return e.useEffect(()=>{const e=e=>{"Escape"===e.key&&t&&s()};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[t,s]),e.useEffect(()=>(document.body.style.overflow=t?"hidden":"unset",()=>{document.body.style.overflow="unset"}),[t]),t?j.jsxs("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:[j.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 transition-opacity",onClick:s}),j.jsx("div",{className:"flex min-h-full items-center justify-center p-4",children:j.jsxs("div",{className:`relative bg-white rounded-xl shadow-2xl ${o} w-full transform transition-all`,onClick:e=>e.stopPropagation(),children:[j.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[j.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:r}),j.jsx("button",{onClick:s,className:"p-1 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",children:j.jsx(Le,{className:"w-5 h-5"})})]}),j.jsx("div",{className:"p-6",children:n})]})})]}):null}function yr({isOpen:e,onClose:t,onConfirm:s,title:r,message:n,confirmText:o="Confirm",cancelText:i="Cancel",variant:a="primary"}){if(!e)return null;const l={danger:{icon:"text-red-600",button:"bg-red-600 hover:bg-red-700 focus:ring-red-500"},warning:{icon:"text-yellow-600",button:"bg-yellow-600 hover:bg-yellow-700 focus:ring-yellow-500"},primary:{icon:"text-primary-600",button:"bg-primary-600 hover:bg-primary-700 focus:ring-primary-500"}},c=l[a]||l.primary;return j.jsxs("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:[j.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 transition-opacity",onClick:t}),j.jsx("div",{className:"flex min-h-full items-center justify-center p-4",children:j.jsx("div",{className:"relative bg-white rounded-xl shadow-2xl max-w-md w-full transform transition-all",onClick:e=>e.stopPropagation(),children:j.jsxs("div",{className:"p-6",children:[j.jsx("div",{className:"flex items-center justify-center w-12 h-12 mx-auto mb-4 rounded-full bg-gray-100",children:j.jsx(Re,{className:`w-6 h-6 ${c.icon}`})}),j.jsx("h3",{className:"text-lg font-semibold text-gray-900 text-center mb-2",children:r}),j.jsx("p",{className:"text-sm text-gray-600 text-center mb-6",children:n}),j.jsxs("div",{className:"flex space-x-3",children:[j.jsx("button",{onClick:t,className:"flex-1 px-4 py-2.5 bg-white border border-gray-300 text-gray-700 rounded-lg font-medium hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500 transition-colors",children:i}),j.jsx("button",{onClick:()=>{s(),t()},className:`flex-1 px-4 py-2.5 text-white rounded-lg font-medium focus:outline-none focus:ring-2 focus:ring-offset-2 transition-colors ${c.button}`,children:o})]})]})})})]})}function br(){const t=ee(e=>e.slots),s=ee(e=>e.setSlots),r=ee(e=>e.scenes),n=ee(e=>e.setScenes),o=ee(e=>e.addScene),a=ee(e=>e.deleteScene);ee(e=>e.currentScene);const l=ee(e=>e.setCurrentScene),c=ee(e=>e.isConnected),[d,u]=e.useState(3),[h,m]=e.useState(!0),[p,f]=e.useState(!1),[g,x]=e.useState(!1),[y,b]=e.useState(null),[w,v]=e.useState(""),[N,S]=e.useState("");e.useEffect(()=>{(async()=>{try{m(!0),te.connect();const[e,t]=await Promise.all([sr(),or()]);e.success&&s(e.data.slots),t.success&&n(t.data.scenes)}catch(e){console.error("Failed to initialize:",e)}finally{m(!1)}})()},[]);const k=()=>{v(""),S(""),f(!0)},C=async()=>{if(w.trim())try{const e=await ir({name:w.trim(),description:N.trim()||"Created from current slots",slots:{...t}});e.success&&(o(e.data),mr.getState().success(`Scene "${w}" created successfully!`),f(!1),v(""),S(""))}catch(e){console.error("Failed to create scene:",e),mr.getState().error("Failed to create scene. Please try again.")}else mr.getState().warning("Please enter a scene name")};return h?j.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:j.jsxs("div",{className:"text-center",children:[j.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto mb-4"}),j.jsx("p",{className:"text-gray-600",children:"Loading..."})]})}):j.jsxs("div",{className:"min-h-screen bg-gray-50",children:[j.jsx(pr,{}),j.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[j.jsx(fr,{isConnected:c}),j.jsxs("section",{className:"mb-8 animate-fade-in",children:[j.jsxs("div",{className:"flex items-center justify-between mb-4",children:[j.jsxs("h2",{className:"text-xl font-semibold text-gray-900 flex items-center",children:[j.jsx(ye,{className:"w-5 h-5 mr-2"}),"Scene Presets"]}),j.jsxs("button",{onClick:k,className:"flex items-center space-x-2 px-4 py-2 bg-primary-600 text-white rounded-lg font-medium hover:bg-primary-700 transition-colors",children:[j.jsx(Se,{className:"w-5 h-5"}),j.jsx("span",{children:"Create Scene"})]})]}),0===r.length?j.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-8 text-center",children:[j.jsx("p",{className:"text-gray-500 mb-4",children:"No scenes yet. Create your first scene!"}),j.jsx("button",{onClick:k,className:"px-6 py-3 bg-primary-600 text-white rounded-lg font-medium hover:bg-primary-700",children:"Create Scene from Current Slots"})]}):j.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:r.map(e=>j.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6 hover:shadow-md transition-shadow",children:[j.jsxs("div",{className:"flex items-start justify-between mb-4",children:[j.jsxs("div",{className:"flex-1",children:[j.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:e.name}),j.jsx("p",{className:"text-sm text-gray-600",children:e.description})]}),j.jsx("button",{onClick:()=>(async e=>{b(e),x(!0)})(e.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:j.jsx(Oe,{className:"w-4 h-4"})})]}),j.jsx("div",{className:"mb-4",children:j.jsxs("p",{className:"text-sm text-gray-600",children:["Slots configured: ",Object.keys(e.slots||{}).length]})}),j.jsxs("div",{className:"flex space-x-2",children:[j.jsxs("button",{onClick:()=>(async(e,t)=>{try{const s=await cr(e);if(s.success){const e=s.data.slotsCaptured||Object.keys(s.data.slots||{}).length;mr.getState().success(`Scene "${t}" updated with ${e} slot${1!==e?"s":""}!`);const r=await or();r.success&&n(r.data.scenes)}}catch(s){console.error("Failed to capture scene:",s),mr.getState().error("Failed to update scene. Please try again.")}})(e.id,e.name),className:"flex-1 flex items-center justify-center space-x-2 px-4 py-2 bg-gray-100 text-gray-700 rounded-lg font-medium hover:bg-gray-200 transition-colors",title:"Update scene with current slots",children:[j.jsx(le,{className:"w-4 h-4"}),j.jsx("span",{children:"Update"})]}),j.jsxs("button",{onClick:()=>(async e=>{try{await lr(e),l(e),mr.getState().success("Scene loaded!")}catch(t){console.error("Failed to load scene:",t),mr.getState().error("Failed to load scene")}})(e.id),className:"flex-1 flex items-center justify-center space-x-2 px-4 py-2 bg-primary-600 text-white rounded-lg font-medium hover:bg-primary-700 transition-colors",title:"Load this scene",children:[j.jsx(Ne,{className:"w-4 h-4"}),j.jsx("span",{children:"Load"})]})]})]},e.id))})]}),j.jsxs("section",{className:"animate-slide-up",children:[j.jsxs("div",{className:"flex items-center justify-between mb-4",children:[j.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Current Slots"}),j.jsx(i,{to:"/library",className:"px-4 py-2 bg-white border border-gray-300 rounded-lg text-sm font-medium text-gray-700 hover:bg-gray-50 transition-colors",children:"Image Library"})]}),j.jsx("div",{className:"space-y-4",children:Array.from({length:d},(e,t)=>t+1).map(e=>j.jsx(gr,{slotId:e,slotData:t[e]||{}},e))}),j.jsx("button",{onClick:()=>u(e=>e+1),className:"mt-4 w-full py-3 border-2 border-dashed border-gray-300 rounded-lg text-gray-600 hover:border-primary-400 hover:text-primary-600 transition-colors",children:"+ Add Slot"})]})]}),j.jsx(xr,{isOpen:p,onClose:()=>f(!1),title:"Create New Scene",children:j.jsxs("div",{className:"space-y-4",children:[j.jsxs("div",{children:[j.jsx("label",{htmlFor:"sceneName",className:"block text-sm font-medium text-gray-700 mb-2",children:"Scene Name *"}),j.jsx("input",{id:"sceneName",type:"text",value:w,onChange:e=>v(e.target.value),placeholder:"e.g., Opening Presentation",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",autoFocus:!0,onKeyDown:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),C())}})]}),j.jsxs("div",{children:[j.jsx("label",{htmlFor:"sceneDescription",className:"block text-sm font-medium text-gray-700 mb-2",children:"Description (optional)"}),j.jsx("textarea",{id:"sceneDescription",value:N,onChange:e=>S(e.target.value),placeholder:"Describe when to use this scene...",rows:3,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent resize-none"})]}),j.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:[j.jsxs("p",{className:"text-sm text-blue-800",children:[j.jsx("strong",{children:"Current slots:"})," ",Object.keys(t).length," configured"]}),j.jsx("p",{className:"text-xs text-blue-600 mt-1",children:"This scene will save your current slot configuration"})]}),j.jsxs("div",{className:"flex space-x-3 pt-2",children:[j.jsx("button",{onClick:()=>f(!1),className:"flex-1 px-4 py-2.5 bg-white border border-gray-300 text-gray-700 rounded-lg font-medium hover:bg-gray-50 transition-colors",children:"Cancel"}),j.jsx("button",{onClick:C,disabled:!w.trim(),className:"flex-1 px-4 py-2.5 bg-primary-600 text-white rounded-lg font-medium hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Create Scene"})]})]})}),j.jsx(yr,{isOpen:g,onClose:()=>{x(!1),b(null)},onConfirm:async()=>{if(y)try{await ar(y),a(y),mr.getState().success("Scene deleted successfully!")}catch(e){console.error("Failed to delete scene:",e),mr.getState().error("Failed to delete scene. Please try again.")}finally{b(null)}},title:"Delete Scene?",message:"Are you sure you want to delete this scene? This action cannot be undone.",confirmText:"Delete",cancelText:"Cancel",variant:"danger"})]})}function jr(){const t=ee(e=>e.scenes),s=ee(e=>e.setScenes),r=ee(e=>e.addScene),n=ee(e=>e.deleteScene),o=ee(e=>e.slots),[i,a]=e.useState(!1),[l,c]=e.useState(!1),[d,u]=e.useState(null),[h,m]=e.useState(!0),[p,f]=e.useState(""),[g,x]=e.useState("");e.useEffect(()=>{y()},[]);const y=async()=>{try{m(!0);const e=await or();e.success&&s(e.data.scenes)}catch(e){console.error("Failed to load scenes:",e),mr.getState().error("Failed to load scenes from server")}finally{m(!1)}},b=()=>{f(""),x(""),a(!0)},w=async()=>{if(p.trim())try{const e=await ir({name:p.trim(),description:g.trim()||"Created from current slots",slots:{...o}});e.success&&(r(e.data),mr.getState().success(`Scene "${p}" created successfully!`),a(!1),f(""),x(""))}catch(e){console.error("Failed to create scene:",e),mr.getState().error("Failed to create scene. Please try again.")}else mr.getState().warning("Please enter a scene name")};return h?j.jsxs("div",{className:"min-h-screen bg-gray-50",children:[j.jsx(pr,{}),j.jsx("div",{className:"flex items-center justify-center h-96",children:j.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})})]}):j.jsxs("div",{className:"min-h-screen bg-gray-50",children:[j.jsx(pr,{}),j.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[j.jsxs("div",{className:"flex items-center justify-between mb-6",children:[j.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Scene Presets"}),j.jsxs("button",{onClick:b,className:"flex items-center space-x-2 px-4 py-2 bg-primary-600 text-white rounded-lg font-medium hover:bg-primary-700",children:[j.jsx(Se,{className:"w-5 h-5"}),j.jsx("span",{children:"Create Scene"})]})]}),0===t.length?j.jsxs("div",{className:"text-center py-12",children:[j.jsx("p",{className:"text-gray-500 mb-4",children:"No scenes yet. Create your first scene!"}),j.jsx("button",{onClick:b,className:"px-6 py-3 bg-primary-600 text-white rounded-lg font-medium hover:bg-primary-700",children:"Create Scene from Current Slots"})]}):j.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:t.map(e=>j.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6 hover:shadow-md transition-shadow",children:[j.jsxs("div",{className:"flex items-start justify-between mb-4",children:[j.jsxs("div",{children:[j.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:e.name}),j.jsx("p",{className:"text-sm text-gray-600",children:e.description})]}),j.jsx("button",{onClick:()=>(async e=>{u(e),c(!0)})(e.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg",children:j.jsx(Oe,{className:"w-4 h-4"})})]}),j.jsx("div",{className:"mb-4",children:j.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:["Slots configured: ",Object.keys(e.slots||{}).length]})}),j.jsxs("div",{className:"flex space-x-2",children:[j.jsxs("button",{onClick:()=>(async(e,t)=>{try{const s=await cr(e);if(s.success){const e=s.data.slotsCaptured||Object.keys(s.data.slots||{}).length;mr.getState().success(`Scene "${t}" updated with ${e} slot${1!==e?"s":""}!`),await y()}}catch(s){console.error("Failed to capture scene:",s),mr.getState().error("Failed to update scene. Please try again.")}})(e.id,e.name),className:"flex-1 flex items-center justify-center space-x-2 px-4 py-2 bg-gray-100 text-gray-700 rounded-lg font-medium hover:bg-gray-200 transition-colors",title:"Update scene with current slots",children:[j.jsx(le,{className:"w-4 h-4"}),j.jsx("span",{children:"Update"})]}),j.jsxs("button",{onClick:()=>(async e=>{try{await lr(e),mr.getState().success("Scene loaded successfully!")}catch(t){console.error("Failed to load scene:",t),mr.getState().error("Failed to load scene. Please try again.")}})(e.id),className:"flex-1 flex items-center justify-center space-x-2 px-4 py-2 bg-primary-600 text-white rounded-lg font-medium hover:bg-primary-700 transition-colors",title:"Load this scene",children:[j.jsx(Ne,{className:"w-4 h-4"}),j.jsx("span",{children:"Load"})]})]})]},e.id))})]}),j.jsx(xr,{isOpen:i,onClose:()=>a(!1),title:"Create New Scene",children:j.jsxs("div",{className:"space-y-4",children:[j.jsxs("div",{children:[j.jsx("label",{htmlFor:"sceneName",className:"block text-sm font-medium text-gray-700 mb-2",children:"Scene Name *"}),j.jsx("input",{id:"sceneName",type:"text",value:p,onChange:e=>f(e.target.value),placeholder:"e.g., Opening Presentation",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",autoFocus:!0,onKeyDown:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),w())}})]}),j.jsxs("div",{children:[j.jsx("label",{htmlFor:"sceneDescription",className:"block text-sm font-medium text-gray-700 mb-2",children:"Description (optional)"}),j.jsx("textarea",{id:"sceneDescription",value:g,onChange:e=>x(e.target.value),placeholder:"Describe when to use this scene...",rows:3,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent resize-none"})]}),j.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:[j.jsxs("p",{className:"text-sm text-blue-800",children:[j.jsx("strong",{children:"Current slots:"})," ",Object.keys(o).length," configured"]}),j.jsx("p",{className:"text-xs text-blue-600 mt-1",children:"This scene will save your current slot configuration"})]}),j.jsxs("div",{className:"flex space-x-3 pt-2",children:[j.jsx("button",{onClick:()=>a(!1),className:"flex-1 px-4 py-2.5 bg-white border border-gray-300 text-gray-700 rounded-lg font-medium hover:bg-gray-50 transition-colors",children:"Cancel"}),j.jsx("button",{onClick:w,disabled:!p.trim(),className:"flex-1 px-4 py-2.5 bg-primary-600 text-white rounded-lg font-medium hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Create Scene"})]})]})}),j.jsx(yr,{isOpen:l,onClose:()=>{c(!1),u(null)},onConfirm:async()=>{if(d)try{await ar(d),n(d),mr.getState().success("Scene deleted successfully!")}catch(e){console.error("Failed to delete scene:",e),mr.getState().error("Failed to delete scene. Please try again.")}finally{u(null)}},title:"Delete Scene?",message:"Are you sure you want to delete this scene? This action cannot be undone.",confirmText:"Delete",cancelText:"Cancel",variant:"danger"})]})}function wr(){const t=ee(e=>e.images),s=ee(e=>e.setImages),r=ee(e=>e.addImage),n=ee(e=>e.deleteImage),[o,i]=e.useState(!0),[a,l]=e.useState(!1),[c,d]=e.useState(""),[u,h]=e.useState(""),[m,p]=e.useState(!1),[f,g]=e.useState(null),[x,y]=e.useState(!1),[b,w]=e.useState(!1),v=e.useRef(null),N=e.useRef(null);e.useEffect(()=>{S()},[]),e.useEffect(()=>{w("undefined"!=typeof navigator&&navigator.clipboard&&"function"==typeof navigator.clipboard.read)},[]),e.useEffect(()=>{const e=async e=>{var t;if(!x)return;e.preventDefault();const s=null==(t=e.clipboardData)?void 0:t.items;if(s){for(let e=0;e<s.length;e++)if(-1!==s[e].type.indexOf("image")){const t=s[e].getAsFile();if(t){const e=new File([t],`pasted-${Date.now()}.png`,{type:t.type});return await k(e),void y(!1)}}mr.getState().warning("No image found in clipboard. Please copy an image first.")}};if(x&&N.current)return N.current.addEventListener("paste",e),N.current.focus(),()=>{var t;null==(t=N.current)||t.removeEventListener("paste",e)}},[x]);const S=async()=>{try{i(!0),s([])}catch(e){console.error("Failed to load images:",e)}finally{i(!1)}},k=async e=>{try{l(!0);const t=await dr(e);t.success&&(r(t.data),mr.getState().success(`Image uploaded: ${e.name}`))}catch(t){console.error("Failed to upload image:",t),mr.getState().error("Failed to upload image. Please try again.")}finally{l(!1)}},C=async e=>{const t=prompt("Enter slot number:");if(t)try{await rr(t,{imageId:e.id,imageUrl:e.url}),te.updateSlot(t,e.url,e.id),mr.getState().success(`Image assigned to Slot ${t}`)}catch(s){console.error("Failed to assign image:",s),mr.getState().error("Failed to assign image to slot")}},E=t.filter(e=>{var t,s;return(null==(t=e.filename)?void 0:t.toLowerCase().includes(c.toLowerCase()))||(null==(s=e.originalName)?void 0:s.toLowerCase().includes(c.toLowerCase()))});return j.jsxs("div",{className:"min-h-screen bg-gray-50",children:[j.jsx(pr,{}),j.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[j.jsxs("div",{className:"mb-6",children:[j.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Image Library"}),j.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[j.jsxs("div",{className:"flex-1 relative",children:[j.jsx(ke,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),j.jsx("input",{type:"text",placeholder:"Search images...",value:c,onChange:e=>d(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500"})]}),j.jsxs("button",{onClick:()=>p(!m),disabled:a,className:"flex items-center justify-center space-x-2 px-6 py-2 bg-gray-600 text-white rounded-lg font-medium hover:bg-gray-700 disabled:opacity-50",title:"Add image by URL",children:[j.jsx(be,{className:"w-5 h-5"}),j.jsx("span",{children:"Add URL"})]}),b&&j.jsxs("button",{onClick:async()=>{try{if(l(!0),navigator.clipboard&&navigator.clipboard.read)try{const e=await navigator.clipboard.read();let t=null;for(const s of e){const e=s.types.find(e=>e.startsWith("image/"));if(e){const r=await s.getType(e);t=new File([r],`clipboard-${Date.now()}.png`,{type:e});break}}return t?void(await k(t)):(mr.getState().info("No image in clipboard. Try: Copy an image, then click Paste again."),void l(!1))}catch(e){console.log("Clipboard API failed, trying paste event approach:",e)}y(!0),mr.getState().info("Click in the blue box below, then press Ctrl+V (Cmd+V on Mac) to paste."),l(!1)}catch(t){console.error("Failed to paste from clipboard:",t),y(!0),mr.getState().info("Click in the blue box below, then press Ctrl+V (Cmd+V on Mac) to paste."),l(!1)}},disabled:a,className:"flex items-center justify-center space-x-2 px-6 py-2 bg-green-600 text-white rounded-lg font-medium hover:bg-green-700 disabled:opacity-50",title:"Paste image from clipboard",children:[j.jsx(pe,{className:"w-5 h-5"}),j.jsx("span",{children:"Paste"})]}),j.jsxs("button",{onClick:()=>{var e;return null==(e=v.current)?void 0:e.click()},disabled:a,className:"flex items-center justify-center space-x-2 px-6 py-2 bg-primary-600 text-white rounded-lg font-medium hover:bg-primary-700 disabled:opacity-50",children:[j.jsx(Te,{className:"w-5 h-5"}),j.jsx("span",{children:a?"Uploading...":"Upload Images"})]}),j.jsx("input",{ref:v,type:"file",accept:"image/png,image/jpeg,image/jpg,image/gif,image/webp",multiple:!0,onChange:async e=>{const t=Array.from(e.target.files||[]);if(0!==t.length)try{l(!0);let e=0;for(const s of t){const t=await dr(s);t.success&&(r(t.data),e++)}mr.getState().success(`Successfully uploaded ${e} image(s)`)}catch(s){console.error("Failed to upload images:",s),mr.getState().error("Failed to upload one or more images")}finally{l(!1),v.current&&(v.current.value="")}},className:"hidden"})]}),m&&j.jsxs("form",{onSubmit:async e=>{if(e.preventDefault(),u.trim())try{l(!0);const e=await ur(u,"Image from URL");e.success&&(r(e.data),mr.getState().success("Image added from URL"),h(""),p(!1))}catch(t){console.error("Failed to add image from URL:",t),mr.getState().error("Failed to add image from URL. Please check the URL.")}finally{l(!1)}},className:"mt-4 flex gap-2",children:[j.jsx("input",{type:"url",value:u,onChange:e=>h(e.target.value),placeholder:"https://example.com/image.jpg",className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500",autoFocus:!0,disabled:a}),j.jsx("button",{type:"submit",disabled:a||!u.trim(),className:"px-6 py-2 bg-primary-600 text-white rounded-lg font-medium hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed",children:"Add"}),j.jsx("button",{type:"button",onClick:()=>{p(!1),h("")},className:"px-6 py-2 bg-gray-100 text-gray-700 rounded-lg font-medium hover:bg-gray-200",children:"Cancel"})]}),x&&j.jsxs("div",{className:"relative mt-4",children:[j.jsxs("div",{ref:N,contentEditable:!0,tabIndex:0,className:"w-full px-4 py-8 border-2 border-dashed border-blue-400 bg-blue-50 rounded-lg text-center text-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 cursor-text",children:[j.jsx(pe,{className:"w-8 h-8 mx-auto mb-2"}),j.jsx("p",{className:"font-medium",children:"Click here and press Ctrl+V (⌘+V on Mac)"}),j.jsx("p",{className:"text-sm mt-1",children:"Paste your image from clipboard to add to library"})]}),j.jsx("button",{onClick:()=>y(!1),className:"absolute top-2 right-2 p-1 bg-white rounded-full shadow-sm hover:bg-gray-100",children:j.jsx(Le,{className:"w-4 h-4 text-gray-600"})})]})]}),o?j.jsx("div",{className:"flex items-center justify-center h-64",children:j.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):0===E.length?j.jsxs("div",{className:"text-center py-12",children:[j.jsx("p",{className:"text-gray-500 mb-4",children:c?"No images found":"No images yet. Upload your first image!"}),!c&&j.jsx("button",{onClick:()=>{var e;return null==(e=v.current)?void 0:e.click()},className:"px-6 py-3 bg-primary-600 text-white rounded-lg font-medium hover:bg-primary-700",children:"Upload Images"})]}):j.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-4",children:E.map(e=>j.jsxs("div",{className:"group relative bg-white rounded-lg border border-gray-200 overflow-hidden hover:shadow-lg transition-shadow",children:[j.jsx("div",{className:"aspect-square bg-gray-100 overflow-hidden",children:j.jsx("img",{src:e.url,alt:e.originalName,className:"w-full h-full object-cover cursor-pointer",onClick:()=>C(e)})}),j.jsxs("div",{className:"p-2",children:[j.jsx("p",{className:"text-xs text-gray-700 truncate",title:e.originalName,children:e.originalName||e.filename}),j.jsxs("p",{className:"text-xs text-gray-500",children:[e.width," × ",e.height]})]}),j.jsx("button",{onClick:()=>(async e=>{if(confirm("Delete this image?"))try{await hr(e),n(e),mr.getState().success("Image deleted successfully")}catch(t){console.error("Failed to delete image:",t),mr.getState().error("Failed to delete image")}})(e.id),className:"absolute top-2 right-2 p-2 bg-red-600 text-white rounded-lg opacity-0 group-hover:opacity-100 transition-opacity",children:j.jsx(Oe,{className:"w-4 h-4"})}),j.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-40 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity cursor-pointer",onClick:()=>C(e),children:j.jsx("p",{className:"text-white font-medium text-sm",children:"Click to assign"})})]},e.id))})]})]})}function vr(){const[t,s]=e.useState("setup"),r=({id:e,icon:r,title:n,children:o})=>{const i=t===e;return j.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:[j.jsxs("button",{onClick:()=>{var r;s(t===(r=e)?null:r)},className:"w-full flex items-center justify-between p-6 text-left hover:bg-gray-50 transition-colors",children:[j.jsxs("div",{className:"flex items-center space-x-3",children:[j.jsx(r,{className:"w-6 h-6 text-primary-600"}),j.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:n})]}),i?j.jsx(ce,{className:"w-5 h-5 text-gray-400"}):j.jsx(de,{className:"w-5 h-5 text-gray-400"})]}),i&&j.jsx("div",{className:"px-6 pb-6 prose prose-sm max-w-none",children:o})]})};return j.jsxs("div",{className:"min-h-screen bg-gray-50",children:[j.jsx(pr,{}),j.jsxs("main",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[j.jsxs("div",{className:"mb-8",children:[j.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Help & Setup Guide"}),j.jsx("p",{className:"text-gray-600",children:"Learn how to use OBS Media Controller and set up OBS for remote image control"})]}),j.jsxs("div",{className:"space-y-4",children:[j.jsx(r,{id:"setup",icon:Ce,title:"OBS Setup Instructions",children:j.jsxs("div",{children:[j.jsx("h3",{className:"font-semibold text-lg mb-3",children:"Step 1: Create Image Sources in OBS"}),j.jsxs("ol",{className:"list-decimal list-inside space-y-2 mb-6",children:[j.jsx("li",{children:"Open OBS Studio"}),j.jsxs("li",{children:["In your scene, click the ",j.jsx("strong",{children:"+"})," button in the Sources panel"]}),j.jsxs("li",{children:["Select ",j.jsx("strong",{children:'"Browser"'})," from the list"]}),j.jsxs("li",{children:["Name it ",j.jsx("strong",{children:'"Slot 1"'})," (or any name you prefer)"]}),j.jsx("li",{children:"Click OK"})]}),j.jsx("h3",{className:"font-semibold text-lg mb-3",children:"Step 2: Configure the Browser Source"}),j.jsxs("ol",{className:"list-decimal list-inside space-y-2 mb-6",children:[j.jsxs("li",{children:["In the URL field, enter:"," ",j.jsx("code",{className:"bg-gray-100 px-2 py-1 rounded text-sm",children:"https://obs-media-control.piogino.ch/display?slot=1"})]}),j.jsxs("li",{children:["Set Width: ",j.jsx("strong",{children:"1920"})," (or your desired width)"]}),j.jsxs("li",{children:["Set Height: ",j.jsx("strong",{children:"1080"})," (or your desired height)"]}),j.jsxs("li",{children:["Check ✓ ",j.jsx("strong",{children:'"Shutdown source when not visible"'})," (optional, saves resources)"]}),j.jsxs("li",{children:["Check ✓ ",j.jsx("strong",{children:'"Refresh browser when scene becomes active"'})," (recommended)"]}),j.jsx("li",{children:"Click OK"})]}),j.jsx("h3",{className:"font-semibold text-lg mb-3",children:"Step 3: Repeat for Additional Slots"}),j.jsx("p",{className:"mb-4",children:"Create more browser sources for Slot 2, 3, and 4:"}),j.jsxs("ul",{className:"list-disc list-inside space-y-1 mb-6",children:[j.jsxs("li",{children:["Slot 2: ",j.jsx("code",{className:"bg-gray-100 px-2 py-1 rounded text-sm",children:"https://obs-media-control.piogino.ch/display?slot=2"})]}),j.jsxs("li",{children:["Slot 3: ",j.jsx("code",{className:"bg-gray-100 px-2 py-1 rounded text-sm",children:"https://obs-media-control.piogino.ch/display?slot=3"})]}),j.jsxs("li",{children:["Slot 4: ",j.jsx("code",{className:"bg-gray-100 px-2 py-1 rounded text-sm",children:"https://obs-media-control.piogino.ch/display?slot=4"})]})]}),j.jsx("h3",{className:"font-semibold text-lg mb-3",children:"Step 4: Position Your Sources"}),j.jsxs("ul",{className:"list-disc list-inside space-y-2",children:[j.jsx("li",{children:"Resize and position each slot where you want images to appear"}),j.jsx("li",{children:"You can overlay them, place them side-by-side, or in corners"}),j.jsx("li",{children:"Right-click → Transform → Fit to screen (if needed)"})]}),j.jsx("div",{className:"mt-6 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:j.jsxs("p",{className:"text-sm text-blue-800",children:[j.jsx("strong",{children:"💡 Pro Tip:"})," Create a dedicated scene for presentations with all 4 slots pre-configured!"]})})]})}),j.jsx(r,{id:"control",icon:Ee,title:"Using the Control Page",children:j.jsxs("div",{children:[j.jsx("h3",{className:"font-semibold text-lg mb-3",children:"Control Panel Overview"}),j.jsx("p",{className:"mb-4",children:"The Control page lets you manage images in 4 different slots during your presentation."}),j.jsx("h4",{className:"font-semibold mb-2",children:"Three Ways to Add Images to Slots:"}),j.jsxs("ol",{className:"list-decimal list-inside space-y-3 mb-6",children:[j.jsxs("li",{children:[j.jsx("strong",{children:"URL"}),' - Click the "URL" button, paste an image URL, click "Set"']}),j.jsxs("li",{children:[j.jsx("strong",{children:"Upload"}),' - Click "Upload", select an image file from your computer']}),j.jsxs("li",{children:[j.jsx("strong",{children:"Paste"}),' - Copy an image (screenshot, right-click → copy image), click "Paste"']})]}),j.jsx("h4",{className:"font-semibold mb-2",children:"Clear a Slot:"}),j.jsxs("p",{className:"mb-4",children:["Click the ",j.jsx("strong",{children:"X"})," button in the top-right corner of any slot to remove the image."]}),j.jsx("div",{className:"mt-6 p-4 bg-green-50 border border-green-200 rounded-lg",children:j.jsxs("p",{className:"text-sm text-green-800",children:[j.jsx("strong",{children:"✨ Best Practice:"})," Use your iPad or phone to control images while presenting from your computer!"]})})]})}),j.jsx(r,{id:"library",icon:ge,title:"Using the Image Library",children:j.jsxs("div",{children:[j.jsx("h3",{className:"font-semibold text-lg mb-3",children:"Build Your Image Collection"}),j.jsx("p",{className:"mb-4",children:"The Library page lets you prepare images ahead of time and quickly assign them to slots during presentations."}),j.jsx("h4",{className:"font-semibold mb-2",children:"Four Ways to Add Images to Library:"}),j.jsxs("ol",{className:"list-decimal list-inside space-y-3 mb-6",children:[j.jsxs("li",{children:[j.jsx("strong",{children:"Add URL"})," (Gray button) - Add images directly from web URLs"]}),j.jsxs("li",{children:[j.jsx("strong",{children:"Paste"})," (Green button) - Paste images from clipboard"]}),j.jsxs("li",{children:[j.jsx("strong",{children:"Upload Images"})," (Blue button) - Upload multiple files at once"]}),j.jsxs("li",{children:[j.jsx("strong",{children:"Search"})," - Filter your library to find specific images"]})]}),j.jsx("h4",{className:"font-semibold mb-2",children:"Assign Images to Slots:"}),j.jsxs("ol",{className:"list-decimal list-inside space-y-2 mb-6",children:[j.jsx("li",{children:"Click on any image in the library"}),j.jsx("li",{children:"Enter the slot number (1, 2, 3, or 4)"}),j.jsx("li",{children:"Image appears in OBS instantly!"})]}),j.jsx("h4",{className:"font-semibold mb-2",children:"Delete Images:"}),j.jsx("p",{className:"mb-4",children:"Hover over an image and click the red trash icon to remove it from the library."}),j.jsx("div",{className:"mt-6 p-4 bg-purple-50 border border-purple-200 rounded-lg",children:j.jsxs("p",{className:"text-sm text-purple-800",children:[j.jsx("strong",{children:"📚 Workflow Tip:"})," Before your meeting, upload all images to the Library. During the meeting, just click images to switch slots!"]})})]})}),j.jsx(r,{id:"scenes",icon:ye,title:"Using Scenes (Coming Soon)",children:j.jsxs("div",{children:[j.jsx("h3",{className:"font-semibold text-lg mb-3",children:"Scene Presets"}),j.jsx("p",{className:"mb-4",children:"Scenes let you save and load configurations of all 4 slots at once."}),j.jsx("h4",{className:"font-semibold mb-2",children:"Create a Scene:"}),j.jsxs("ol",{className:"list-decimal list-inside space-y-2 mb-6",children:[j.jsx("li",{children:"Set up your slots with the images you want"}),j.jsx("li",{children:"Go to the Scenes page"}),j.jsx("li",{children:'Click "Create Scene"'}),j.jsx("li",{children:'Enter a name (e.g., "Product Demo", "Team Photos")'}),j.jsx("li",{children:"Scene is saved!"})]}),j.jsx("h4",{className:"font-semibold mb-2",children:"Load a Scene:"}),j.jsx("p",{className:"mb-4",children:'Click the "Load Scene" button on any saved scene to instantly restore all 4 slots to that configuration.'}),j.jsx("div",{className:"mt-6 p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:j.jsxs("p",{className:"text-sm text-yellow-800",children:[j.jsx("strong",{children:"⚠️ Note:"})," Scene functionality is currently in development. Backend integration coming soon!"]})})]})}),j.jsx(r,{id:"display",icon:we,title:"Display Page (for OBS)",children:j.jsxs("div",{children:[j.jsx("h3",{className:"font-semibold text-lg mb-3",children:"What is the Display Page?"}),j.jsx("p",{className:"mb-4",children:"The Display page shows a single image slot in fullscreen. This is what OBS uses as a Browser Source."}),j.jsx("h4",{className:"font-semibold mb-2",children:"URL Format:"}),j.jsx("code",{className:"block bg-gray-100 px-4 py-2 rounded text-sm mb-4",children:"https://obs-media-control.piogino.ch/display?slot=1"}),j.jsx("h4",{className:"font-semibold mb-2",children:"How it Works:"}),j.jsxs("ul",{className:"list-disc list-inside space-y-2 mb-6",children:[j.jsx("li",{children:"When you update a slot from Control or Library, the Display page updates automatically"}),j.jsx("li",{children:"Uses WebSocket for real-time updates (no refresh needed!)"}),j.jsx("li",{children:"Shows only the image, no UI elements"}),j.jsx("li",{children:"Black background when no image is set"})]}),j.jsx("div",{className:"mt-6 p-4 bg-indigo-50 border border-indigo-200 rounded-lg",children:j.jsxs("p",{className:"text-sm text-indigo-800",children:[j.jsx("strong",{children:"🎬 Fun Fact:"})," You can open Display pages in a regular browser to preview what OBS sees!"]})})]})}),j.jsx(r,{id:"workflows",icon:ae,title:"Example Workflows",children:j.jsxs("div",{children:[j.jsx("h3",{className:"font-semibold text-lg mb-3",children:"Workflow 1: Live Presentation"}),j.jsxs("ol",{className:"list-decimal list-inside space-y-2 mb-6",children:[j.jsx("li",{children:"Open OBS on your computer with browser sources configured"}),j.jsx("li",{children:"Open Control page on your iPad/phone"}),j.jsx("li",{children:"Start your presentation / screen share"}),j.jsx("li",{children:"Use iPad to switch images in OBS without leaving presentation"}),j.jsx("li",{children:"Smooth, professional transitions!"})]}),j.jsx("h3",{className:"font-semibold text-lg mb-3",children:"Workflow 2: Pre-Meeting Prep"}),j.jsxs("ol",{className:"list-decimal list-inside space-y-2 mb-6",children:[j.jsx("li",{children:"Before meeting: Go to Library page"}),j.jsx("li",{children:"Upload/paste all images you'll need"}),j.jsx("li",{children:"During meeting: Click library images to assign to slots"}),j.jsx("li",{children:"No fumbling with file dialogs during presentation!"})]}),j.jsx("h3",{className:"font-semibold text-lg mb-3",children:"Workflow 3: Screenshot Sharing"}),j.jsxs("ol",{className:"list-decimal list-inside space-y-2 mb-6",children:[j.jsx("li",{children:"Take screenshot (Windows + Shift + S)"}),j.jsx("li",{children:"Go to Control page"}),j.jsx("li",{children:'Click "Paste" on any slot'}),j.jsx("li",{children:"Screenshot appears in OBS immediately"}),j.jsx("li",{children:"Perfect for showing examples on the fly!"})]}),j.jsx("h3",{className:"font-semibold text-lg mb-3",children:"Workflow 4: Multi-Screen Setup"}),j.jsxs("ol",{className:"list-decimal list-inside space-y-2 mb-6",children:[j.jsx("li",{children:"Slot 1: Product image (bottom-left)"}),j.jsx("li",{children:"Slot 2: Logo (top-right corner)"}),j.jsx("li",{children:"Slot 3: Team photo (center, when needed)"}),j.jsx("li",{children:"Slot 4: Backup/alternative images"}),j.jsx("li",{children:"Switch between layouts smoothly during stream"})]})]})}),j.jsx(r,{id:"troubleshooting",icon:Ce,title:"Troubleshooting",children:j.jsxs("div",{children:[j.jsx("h3",{className:"font-semibold text-lg mb-3",children:"Images Not Showing in OBS"}),j.jsxs("ul",{className:"list-disc list-inside space-y-2 mb-6",children:[j.jsx("li",{children:"Check that the Browser Source URL is correct (includes ?slot=X)"}),j.jsx("li",{children:"Verify the browser source is visible in OBS"}),j.jsx("li",{children:"Try refreshing the browser source (right-click → Refresh)"}),j.jsx("li",{children:"Make sure OBS has internet connection"}),j.jsx("li",{children:"Check browser console for errors (right-click source → Interact)"})]}),j.jsx("h3",{className:"font-semibold text-lg mb-3",children:"Images Not Updating"}),j.jsxs("ul",{className:"list-disc list-inside space-y-2 mb-6",children:[j.jsx("li",{children:"Wait a few seconds - WebSocket connections take a moment"}),j.jsx("li",{children:"Check your internet connection"}),j.jsx("li",{children:"Refresh the browser source in OBS"}),j.jsx("li",{children:"Try closing and reopening the Control page"})]}),j.jsx("h3",{className:"font-semibold text-lg mb-3",children:"Paste Not Working"}),j.jsxs("ul",{className:"list-disc list-inside space-y-2 mb-6",children:[j.jsx("li",{children:"Make sure you copied an image (not just a file path)"}),j.jsx("li",{children:"Try clicking in the blue paste area and pressing Ctrl+V"}),j.jsx("li",{children:"On iPad: Use external keyboard for paste functionality"}),j.jsx("li",{children:"Alternative: Use Upload button instead"})]}),j.jsx("h3",{className:"font-semibold text-lg mb-3",children:"URL Images Not Loading"}),j.jsxs("ul",{className:"list-disc list-inside space-y-2 mb-6",children:[j.jsx("li",{children:"Verify the URL is a direct image link (ends in .jpg, .png, etc.)"}),j.jsx("li",{children:"Check if the website allows hotlinking (some block it)"}),j.jsx("li",{children:"Try downloading the image and using Upload instead"}),j.jsx("li",{children:"Make sure the URL is publicly accessible (not behind login)"})]}),j.jsx("h3",{className:"font-semibold text-lg mb-3",children:"Can't Access /control or /library Directly"}),j.jsxs("ul",{className:"list-disc list-inside space-y-2 mb-6",children:[j.jsx("li",{children:"This should be fixed! Try clearing browser cache (Ctrl+Shift+R)"}),j.jsx("li",{children:"Make sure you're using the latest version"}),j.jsx("li",{children:"Check that you're using https:// (not http://)"})]})]})}),j.jsx(r,{id:"tips",icon:ae,title:"Tips & Tricks",children:j.jsxs("div",{children:[j.jsx("h3",{className:"font-semibold text-lg mb-3",children:"Best Practices"}),j.jsxs("ul",{className:"list-disc list-inside space-y-2 mb-6",children:[j.jsx("li",{children:"Use Library for pre-meeting prep, Control for live switching"}),j.jsx("li",{children:"Keep commonly-used images in Library for quick access"}),j.jsx("li",{children:"Use descriptive filenames when uploading images"}),j.jsx("li",{children:"Test your OBS setup before important presentations"}),j.jsx("li",{children:"Bookmark Control page on your iPad for quick access"})]}),j.jsx("h3",{className:"font-semibold text-lg mb-3",children:"Performance Tips"}),j.jsxs("ul",{className:"list-disc list-inside space-y-2 mb-6",children:[j.jsx("li",{children:"Use optimized images (not huge file sizes)"}),j.jsx("li",{children:"WebP format works great for smaller file sizes"}),j.jsx("li",{children:'Enable "Shutdown source when not visible" in OBS'}),j.jsx("li",{children:"Close unused browser tabs to save memory"})]}),j.jsx("h3",{className:"font-semibold text-lg mb-3",children:"Creative Uses"}),j.jsxs("ul",{className:"list-disc list-inside space-y-2 mb-6",children:[j.jsx("li",{children:"Lower thirds: Use Slot 1 for speaker names/titles"}),j.jsx("li",{children:"Product demos: Quick-switch between product images"}),j.jsx("li",{children:"Reactions: Pre-load meme images for live reactions"}),j.jsx("li",{children:"Polls/Q&A: Show questions from library"}),j.jsx("li",{children:"Sponsors: Rotate sponsor logos during breaks"})]}),j.jsx("div",{className:"mt-6 p-4 bg-gradient-to-r from-blue-50 to-purple-50 border border-blue-200 rounded-lg",children:j.jsxs("p",{className:"text-sm text-gray-800",children:[j.jsx("strong",{children:"🎨 Get Creative!"})," This tool is designed for flexibility. Experiment with different layouts and workflows to find what works best for your content!"]})})]})})]}),j.jsxs("div",{className:"mt-12 p-6 bg-white rounded-lg border border-gray-200",children:[j.jsx("h3",{className:"font-semibold text-lg mb-2",children:"Need More Help?"}),j.jsx("p",{className:"text-gray-600 mb-4",children:"This tool is designed to be intuitive, but if you have questions or suggestions, feel free to reach out!"}),j.jsx("div",{className:"flex gap-4",children:j.jsxs("a",{href:"https://github.com/piosteiner/obs-remote-media-controller",target:"_blank",rel:"noopener noreferrer",className:"flex items-center space-x-2 text-primary-600 hover:text-primary-700",children:[j.jsx(fe,{className:"w-4 h-4"}),j.jsx("span",{children:"GitHub Repository"})]})})]})]})]})}function Nr({id:t,type:s,message:r,duration:n=3e3}){const o=mr(e=>e.removeToast),[i,a]=e.useState(!1);e.useEffect(()=>{const e=setTimeout(()=>{a(!0)},n-300);return()=>clearTimeout(e)},[n]);const l={success:j.jsx(he,{className:"w-5 h-5"}),error:j.jsx(ue,{className:"w-5 h-5"}),warning:j.jsx(Re,{className:"w-5 h-5"}),info:j.jsx(xe,{className:"w-5 h-5"})};return j.jsxs("div",{className:`flex items-start space-x-3 px-4 py-3 rounded-lg border-l-4 shadow-lg backdrop-blur-sm ${{success:"bg-green-50 border-green-500 text-green-800",error:"bg-red-50 border-red-500 text-red-800",warning:"bg-yellow-50 border-yellow-500 text-yellow-800",info:"bg-blue-50 border-blue-500 text-blue-800"}[s]} ${i?"animate-slide-out-right":"animate-slide-in-right"}`,style:{minWidth:"300px",maxWidth:"500px"},children:[j.jsx("div",{className:{success:"text-green-500",error:"text-red-500",warning:"text-yellow-500",info:"text-blue-500"}[s],children:l[s]}),j.jsx("p",{className:"flex-1 text-sm font-medium",children:r}),j.jsx("button",{onClick:()=>{a(!0),setTimeout(()=>{o(t)},300)},className:"text-gray-400 hover:text-gray-600 transition-colors",children:j.jsx(Le,{className:"w-4 h-4"})})]})}function Sr(){const e=mr(e=>e.toasts);return j.jsx("div",{className:"fixed top-4 right-4 z-50 flex flex-col space-y-2 pointer-events-none",children:j.jsx("div",{className:"flex flex-col space-y-2 pointer-events-auto",children:e.map(e=>j.jsx(Nr,{...e},e.id))})})}function kr(){return j.jsxs(j.Fragment,{children:[j.jsxs(a,{children:[j.jsx(l,{path:"/display",element:j.jsx(se,{})}),j.jsx(l,{path:"/control",element:j.jsx(br,{})}),j.jsx(l,{path:"/scenes",element:j.jsx(jr,{})}),j.jsx(l,{path:"/library",element:j.jsx(wr,{})}),j.jsx(l,{path:"/help",element:j.jsx(vr,{})}),j.jsx(l,{path:"/",element:j.jsx(br,{})})]}),j.jsx(Sr,{})]})}w.createRoot(document.getElementById("root")).render(j.jsx(r.StrictMode,{children:j.jsx(c,{children:j.jsx(kr,{})})}));
