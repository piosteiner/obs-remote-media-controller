import{r as e,a as t,g as s,R as r,u as n,b as o,L as a,c as i,d as l,B as c}from"./react-vendor-Bl19J5gz.js";import{l as d}from"./socket-vendor-CUkmNz_4.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const s of e)if("childList"===s.type)for(const e of s.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();var u={exports:{}},m={},h=e,p=Symbol.for("react.element"),f=Symbol.for("react.fragment"),g=Object.prototype.hasOwnProperty,x=h.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,y={key:!0,ref:!0,__self:!0,__source:!0};function b(e,t,s){var r,n={},o=null,a=null;for(r in void 0!==s&&(o=""+s),void 0!==t.key&&(o=""+t.key),void 0!==t.ref&&(a=t.ref),t)g.call(t,r)&&!y.hasOwnProperty(r)&&(n[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===n[r]&&(n[r]=t[r]);return{$$typeof:p,type:e,key:o,ref:a,props:n,_owner:x.current}}m.Fragment=f,m.jsx=b,m.jsxs=b,u.exports=m;var j=u.exports,w={},v=t;w.createRoot=v.createRoot,w.hydrateRoot=v.hydrateRoot;const N={},S=e=>{let t;const s=new Set,r=(e,r)=>{const n="function"==typeof e?e(t):e;if(!Object.is(n,t)){const e=t;t=(null!=r?r:"object"!=typeof n||null===n)?n:Object.assign({},t,n),s.forEach(s=>s(t,e))}},n=()=>t,o={setState:r,getState:n,getInitialState:()=>a,subscribe:e=>(s.add(e),()=>s.delete(e)),destroy:()=>{"production"!==(N?"production":void 0)&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),s.clear()}},a=t=e(r,n,o);return o};var k={exports:{}},C={},E={exports:{}},O={},R=e;var T="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},P=R.useState,A=R.useEffect,L=R.useLayoutEffect,U=R.useDebugValue;function F(e){var t=e.getSnapshot;e=e.value;try{var s=t();return!T(e,s)}catch(r){return!0}}var D="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var s=t(),r=P({inst:{value:s,getSnapshot:t}}),n=r[0].inst,o=r[1];return L(function(){n.value=s,n.getSnapshot=t,F(n)&&o({inst:n})},[e,s,t]),A(function(){return F(n)&&o({inst:n}),e(function(){F(n)&&o({inst:n})})},[e]),U(s),s};O.useSyncExternalStore=void 0!==R.useSyncExternalStore?R.useSyncExternalStore:D,E.exports=O;var I=E.exports,B=e,M=I;
/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},q=M.useSyncExternalStore,W=B.useRef,z=B.useEffect,$=B.useMemo,V=B.useDebugValue;C.useSyncExternalStoreWithSelector=function(e,t,s,r,n){var o=W(null);if(null===o.current){var a={hasValue:!1,value:null};o.current=a}else a=o.current;o=$(function(){function e(e){if(!l){if(l=!0,o=e,e=r(e),void 0!==n&&a.hasValue){var t=a.value;if(n(t,e))return i=t}return i=e}if(t=i,_(o,e))return t;var s=r(e);return void 0!==n&&n(t,s)?(o=e,t):(o=e,i=s)}var o,i,l=!1,c=void 0===s?null:s;return[function(){return e(t())},null===c?void 0:function(){return e(c())}]},[t,s,r,n]);var i=q(e,o[0],o[1]);return z(function(){a.hasValue=!0,a.value=i},[i]),V(i),i},k.exports=C;const H=s(k.exports),Z={},{useDebugValue:J}=r,{useSyncExternalStoreWithSelector:K}=H;let G=!1;const X=e=>e;const Q=e=>{"production"!==(Z?"production":void 0)&&"function"!=typeof e&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t="function"==typeof e?(e=>e?S(e):S)(e):e,s=(e,s)=>function(e,t=X,s){"production"!==(Z?"production":void 0)&&s&&!G&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),G=!0);const r=K(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,s);return J(r),r}(t,e,s);return Object.assign(s,t),s},Y=e=>e?Q(e):Q,ee=Y((e,t)=>({slots:{},scenes:[],currentScene:null,images:[],isConnected:!1,isLoading:!1,setSlot:(t,s)=>e(e=>({slots:{...e.slots,[t]:s}})),setSlots:t=>e({slots:t}),clearSlot:t=>e(e=>({slots:{...e.slots,[t]:{imageId:null,imageUrl:null,updatedAt:null}}})),setScenes:t=>e({scenes:t}),addScene:t=>e(e=>({scenes:[...e.scenes,t]})),updateScene:(t,s)=>e(e=>({scenes:e.scenes.map(e=>e.id===t?{...e,...s}:e)})),deleteScene:t=>e(e=>({scenes:e.scenes.filter(e=>e.id!==t)})),setCurrentScene:t=>e({currentScene:t}),setImages:t=>e({images:t}),addImage:t=>e(e=>({images:[...e.images,t]})),deleteImage:t=>e(e=>({images:e.images.filter(e=>e.id!==t)})),setConnected:t=>e({isConnected:t}),setLoading:t=>e({isLoading:t})}));const te=new class{constructor(){this.socket=null,this.reconnectAttempts=0,this.maxReconnectAttempts=5}connect(){let e="/",t={reconnection:!0,reconnectionDelay:1e3,reconnectionDelayMax:5e3,reconnectionAttempts:this.maxReconnectAttempts,transports:["websocket","polling"]};{const s=new URL("wss://api.piogino.ch/obs".replace("wss://","https://"));e=`wss://${s.host}`,s.pathname&&"/"!==s.pathname&&(t.path=s.pathname+"/socket.io/")}this.socket=d(e,t),this.setupListeners()}setupListeners(){this.socket.on("connect",()=>{console.log("✅ WebSocket connected:",this.socket.id),ee.getState().setConnected(!0),this.reconnectAttempts=0}),this.socket.on("disconnect",e=>{console.log("❌ WebSocket disconnected:",e),ee.getState().setConnected(!1)}),this.socket.on("connect_error",e=>{console.error("WebSocket connection error:",e),this.reconnectAttempts++,this.reconnectAttempts>=this.maxReconnectAttempts&&console.error("Max reconnection attempts reached")}),this.socket.on("slot:updated",e=>{console.log("Slot updated:",e),ee.getState().setSlot(e.slot,{imageId:e.imageId,imageUrl:e.imageUrl,updatedAt:e.timestamp})}),this.socket.on("scene:loaded",e=>{console.log("Scene loaded:",e);const{slots:t}=e;Object.entries(t).forEach(([e,t])=>{ee.getState().setSlot(e,t)}),ee.getState().setCurrentScene(e.sceneId)}),this.socket.on("error",e=>{console.error("WebSocket error:",e)}),this.socket.on("pong",()=>{})}updateSlot(e,t,s=null){var r;(null==(r=this.socket)?void 0:r.connected)?this.socket.emit("slot:update",{slot:e,imageUrl:t,imageId:s}):console.error("WebSocket not connected")}loadScene(e){var t;(null==(t=this.socket)?void 0:t.connected)?this.socket.emit("scene:load",{sceneId:e}):console.error("WebSocket not connected")}clearSlot(e){var t;(null==(t=this.socket)?void 0:t.connected)?this.socket.emit("slot:clear",{slot:e}):console.error("WebSocket not connected")}ping(){var e;(null==(e=this.socket)?void 0:e.connected)&&this.socket.emit("ping")}disconnect(){this.socket&&(this.socket.disconnect(),this.socket=null)}};function se(e,t){return function(){return e.apply(t,arguments)}}const{toString:re}=Object.prototype,{getPrototypeOf:ne}=Object,{iterator:oe,toStringTag:ae}=Symbol,ie=(e=>t=>{const s=re.call(t);return e[s]||(e[s]=s.slice(8,-1).toLowerCase())})(Object.create(null)),le=e=>(e=e.toLowerCase(),t=>ie(t)===e),ce=e=>t=>typeof t===e,{isArray:de}=Array,ue=ce("undefined");function me(e){return null!==e&&!ue(e)&&null!==e.constructor&&!ue(e.constructor)&&fe(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const he=le("ArrayBuffer");const pe=ce("string"),fe=ce("function"),ge=ce("number"),xe=e=>null!==e&&"object"==typeof e,ye=e=>{if("object"!==ie(e))return!1;const t=ne(e);return!(null!==t&&t!==Object.prototype&&null!==Object.getPrototypeOf(t)||ae in e||oe in e)},be=le("Date"),je=le("File"),we=le("Blob"),ve=le("FileList"),Ne=le("URLSearchParams"),[Se,ke,Ce,Ee]=["ReadableStream","Request","Response","Headers"].map(le);function Oe(e,t,{allOwnKeys:s=!1}={}){if(null==e)return;let r,n;if("object"!=typeof e&&(e=[e]),de(e))for(r=0,n=e.length;r<n;r++)t.call(null,e[r],r,e);else{if(me(e))return;const n=s?Object.getOwnPropertyNames(e):Object.keys(e),o=n.length;let a;for(r=0;r<o;r++)a=n[r],t.call(null,e[a],a,e)}}function Re(e,t){if(me(e))return null;t=t.toLowerCase();const s=Object.keys(e);let r,n=s.length;for(;n-- >0;)if(r=s[n],t===r.toLowerCase())return r;return null}const Te="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:global,Pe=e=>!ue(e)&&e!==Te;const Ae=(e=>t=>e&&t instanceof e)("undefined"!=typeof Uint8Array&&ne(Uint8Array)),Le=le("HTMLFormElement"),Ue=(({hasOwnProperty:e})=>(t,s)=>e.call(t,s))(Object.prototype),Fe=le("RegExp"),De=(e,t)=>{const s=Object.getOwnPropertyDescriptors(e),r={};Oe(s,(s,n)=>{let o;!1!==(o=t(s,n,e))&&(r[n]=o||s)}),Object.defineProperties(e,r)};const Ie=le("AsyncFunction"),Be=(Me="function"==typeof setImmediate,_e=fe(Te.postMessage),Me?setImmediate:_e?(qe=`axios@${Math.random()}`,We=[],Te.addEventListener("message",({source:e,data:t})=>{e===Te&&t===qe&&We.length&&We.shift()()},!1),e=>{We.push(e),Te.postMessage(qe,"*")}):e=>setTimeout(e));var Me,_e,qe,We;const ze="undefined"!=typeof queueMicrotask?queueMicrotask.bind(Te):"undefined"!=typeof process&&process.nextTick||Be,$e={isArray:de,isArrayBuffer:he,isBuffer:me,isFormData:e=>{let t;return e&&("function"==typeof FormData&&e instanceof FormData||fe(e.append)&&("formdata"===(t=ie(e))||"object"===t&&fe(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&he(e.buffer),t},isString:pe,isNumber:ge,isBoolean:e=>!0===e||!1===e,isObject:xe,isPlainObject:ye,isEmptyObject:e=>{if(!xe(e)||me(e))return!1;try{return 0===Object.keys(e).length&&Object.getPrototypeOf(e)===Object.prototype}catch(t){return!1}},isReadableStream:Se,isRequest:ke,isResponse:Ce,isHeaders:Ee,isUndefined:ue,isDate:be,isFile:je,isBlob:we,isRegExp:Fe,isFunction:fe,isStream:e=>xe(e)&&fe(e.pipe),isURLSearchParams:Ne,isTypedArray:Ae,isFileList:ve,forEach:Oe,merge:function e(){const{caseless:t,skipUndefined:s}=Pe(this)&&this||{},r={},n=(n,o)=>{const a=t&&Re(r,o)||o;ye(r[a])&&ye(n)?r[a]=e(r[a],n):ye(n)?r[a]=e({},n):de(n)?r[a]=n.slice():s&&ue(n)||(r[a]=n)};for(let o=0,a=arguments.length;o<a;o++)arguments[o]&&Oe(arguments[o],n);return r},extend:(e,t,s,{allOwnKeys:r}={})=>(Oe(t,(t,r)=>{s&&fe(t)?e[r]=se(t,s):e[r]=t},{allOwnKeys:r}),e),trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,s,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),s&&Object.assign(e.prototype,s)},toFlatObject:(e,t,s,r)=>{let n,o,a;const i={};if(t=t||{},null==e)return t;do{for(n=Object.getOwnPropertyNames(e),o=n.length;o-- >0;)a=n[o],r&&!r(a,e,t)||i[a]||(t[a]=e[a],i[a]=!0);e=!1!==s&&ne(e)}while(e&&(!s||s(e,t))&&e!==Object.prototype);return t},kindOf:ie,kindOfTest:le,endsWith:(e,t,s)=>{e=String(e),(void 0===s||s>e.length)&&(s=e.length),s-=t.length;const r=e.indexOf(t,s);return-1!==r&&r===s},toArray:e=>{if(!e)return null;if(de(e))return e;let t=e.length;if(!ge(t))return null;const s=new Array(t);for(;t-- >0;)s[t]=e[t];return s},forEachEntry:(e,t)=>{const s=(e&&e[oe]).call(e);let r;for(;(r=s.next())&&!r.done;){const s=r.value;t.call(e,s[0],s[1])}},matchAll:(e,t)=>{let s;const r=[];for(;null!==(s=e.exec(t));)r.push(s);return r},isHTMLForm:Le,hasOwnProperty:Ue,hasOwnProp:Ue,reduceDescriptors:De,freezeMethods:e=>{De(e,(t,s)=>{if(fe(e)&&-1!==["arguments","caller","callee"].indexOf(s))return!1;const r=e[s];fe(r)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+s+"'")}))})},toObjectSet:(e,t)=>{const s={},r=e=>{e.forEach(e=>{s[e]=!0})};return de(e)?r(e):r(String(e).split(t)),s},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(e,t,s){return t.toUpperCase()+s}),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:Re,global:Te,isContextDefined:Pe,isSpecCompliantForm:function(e){return!!(e&&fe(e.append)&&"FormData"===e[ae]&&e[oe])},toJSONObject:e=>{const t=new Array(10),s=(e,r)=>{if(xe(e)){if(t.indexOf(e)>=0)return;if(me(e))return e;if(!("toJSON"in e)){t[r]=e;const n=de(e)?[]:{};return Oe(e,(e,t)=>{const o=s(e,r+1);!ue(o)&&(n[t]=o)}),t[r]=void 0,n}}return e};return s(e,0)},isAsyncFn:Ie,isThenable:e=>e&&(xe(e)||fe(e))&&fe(e.then)&&fe(e.catch),setImmediate:Be,asap:ze,isIterable:e=>null!=e&&fe(e[oe])};function Ve(e,t,s,r,n){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),s&&(this.config=s),r&&(this.request=r),n&&(this.response=n,this.status=n.status?n.status:null)}$e.inherits(Ve,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:$e.toJSONObject(this.config),code:this.code,status:this.status}}});const He=Ve.prototype,Ze={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{Ze[e]={value:e}}),Object.defineProperties(Ve,Ze),Object.defineProperty(He,"isAxiosError",{value:!0}),Ve.from=(e,t,s,r,n,o)=>{const a=Object.create(He);$e.toFlatObject(e,a,function(e){return e!==Error.prototype},e=>"isAxiosError"!==e);const i=e&&e.message?e.message:"Error",l=null==t&&e?e.code:t;return Ve.call(a,i,l,s,r,n),e&&null==a.cause&&Object.defineProperty(a,"cause",{value:e,configurable:!0}),a.name=e&&e.name||"Error",o&&Object.assign(a,o),a};function Je(e){return $e.isPlainObject(e)||$e.isArray(e)}function Ke(e){return $e.endsWith(e,"[]")?e.slice(0,-2):e}function Ge(e,t,s){return e?e.concat(t).map(function(e,t){return e=Ke(e),!s&&t?"["+e+"]":e}).join(s?".":""):t}const Xe=$e.toFlatObject($e,{},null,function(e){return/^is[A-Z]/.test(e)});function Qe(e,t,s){if(!$e.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const r=(s=$e.toFlatObject(s,{metaTokens:!0,dots:!1,indexes:!1},!1,function(e,t){return!$e.isUndefined(t[e])})).metaTokens,n=s.visitor||c,o=s.dots,a=s.indexes,i=(s.Blob||"undefined"!=typeof Blob&&Blob)&&$e.isSpecCompliantForm(t);if(!$e.isFunction(n))throw new TypeError("visitor must be a function");function l(e){if(null===e)return"";if($e.isDate(e))return e.toISOString();if($e.isBoolean(e))return e.toString();if(!i&&$e.isBlob(e))throw new Ve("Blob is not supported. Use a Buffer instead.");return $e.isArrayBuffer(e)||$e.isTypedArray(e)?i&&"function"==typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,s,n){let i=e;if(e&&!n&&"object"==typeof e)if($e.endsWith(s,"{}"))s=r?s:s.slice(0,-2),e=JSON.stringify(e);else if($e.isArray(e)&&function(e){return $e.isArray(e)&&!e.some(Je)}(e)||($e.isFileList(e)||$e.endsWith(s,"[]"))&&(i=$e.toArray(e)))return s=Ke(s),i.forEach(function(e,r){!$e.isUndefined(e)&&null!==e&&t.append(!0===a?Ge([s],r,o):null===a?s:s+"[]",l(e))}),!1;return!!Je(e)||(t.append(Ge(n,s,o),l(e)),!1)}const d=[],u=Object.assign(Xe,{defaultVisitor:c,convertValue:l,isVisitable:Je});if(!$e.isObject(e))throw new TypeError("data must be an object");return function e(s,r){if(!$e.isUndefined(s)){if(-1!==d.indexOf(s))throw Error("Circular reference detected in "+r.join("."));d.push(s),$e.forEach(s,function(s,o){!0===(!($e.isUndefined(s)||null===s)&&n.call(t,s,$e.isString(o)?o.trim():o,r,u))&&e(s,r?r.concat(o):[o])}),d.pop()}}(e),t}function Ye(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(e){return t[e]})}function et(e,t){this._pairs=[],e&&Qe(e,this,t)}const tt=et.prototype;function st(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function rt(e,t,s){if(!t)return e;const r=s&&s.encode||st;$e.isFunction(s)&&(s={serialize:s});const n=s&&s.serialize;let o;if(o=n?n(t,s):$e.isURLSearchParams(t)?t.toString():new et(t,s).toString(r),o){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+o}return e}tt.append=function(e,t){this._pairs.push([e,t])},tt.toString=function(e){const t=e?function(t){return e.call(this,t,Ye)}:Ye;return this._pairs.map(function(e){return t(e[0])+"="+t(e[1])},"").join("&")};class nt{constructor(){this.handlers=[]}use(e,t,s){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!s&&s.synchronous,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){$e.forEach(this.handlers,function(t){null!==t&&e(t)})}}const ot={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},at={isBrowser:!0,classes:{URLSearchParams:"undefined"!=typeof URLSearchParams?URLSearchParams:et,FormData:"undefined"!=typeof FormData?FormData:null,Blob:"undefined"!=typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},it="undefined"!=typeof window&&"undefined"!=typeof document,lt="object"==typeof navigator&&navigator||void 0,ct=it&&(!lt||["ReactNative","NativeScript","NS"].indexOf(lt.product)<0),dt="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"==typeof self.importScripts,ut=it&&window.location.href||"http://localhost",mt={...Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:it,hasStandardBrowserEnv:ct,hasStandardBrowserWebWorkerEnv:dt,navigator:lt,origin:ut},Symbol.toStringTag,{value:"Module"})),...at};function ht(e){function t(e,s,r,n){let o=e[n++];if("__proto__"===o)return!0;const a=Number.isFinite(+o),i=n>=e.length;if(o=!o&&$e.isArray(r)?r.length:o,i)return $e.hasOwnProp(r,o)?r[o]=[r[o],s]:r[o]=s,!a;r[o]&&$e.isObject(r[o])||(r[o]=[]);return t(e,s,r[o],n)&&$e.isArray(r[o])&&(r[o]=function(e){const t={},s=Object.keys(e);let r;const n=s.length;let o;for(r=0;r<n;r++)o=s[r],t[o]=e[o];return t}(r[o])),!a}if($e.isFormData(e)&&$e.isFunction(e.entries)){const s={};return $e.forEachEntry(e,(e,r)=>{t(function(e){return $e.matchAll(/\w+|\[(\w*)]/g,e).map(e=>"[]"===e[0]?"":e[1]||e[0])}(e),r,s,0)}),s}return null}const pt={transitional:ot,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const s=t.getContentType()||"",r=s.indexOf("application/json")>-1,n=$e.isObject(e);n&&$e.isHTMLForm(e)&&(e=new FormData(e));if($e.isFormData(e))return r?JSON.stringify(ht(e)):e;if($e.isArrayBuffer(e)||$e.isBuffer(e)||$e.isStream(e)||$e.isFile(e)||$e.isBlob(e)||$e.isReadableStream(e))return e;if($e.isArrayBufferView(e))return e.buffer;if($e.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let o;if(n){if(s.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return Qe(e,new mt.classes.URLSearchParams,{visitor:function(e,t,s,r){return mt.isNode&&$e.isBuffer(e)?(this.append(t,e.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)},...t})}(e,this.formSerializer).toString();if((o=$e.isFileList(e))||s.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return Qe(o?{"files[]":e}:e,t&&new t,this.formSerializer)}}return n||r?(t.setContentType("application/json",!1),function(e,t,s){if($e.isString(e))try{return(t||JSON.parse)(e),$e.trim(e)}catch(r){if("SyntaxError"!==r.name)throw r}return(s||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||pt.transitional,s=t&&t.forcedJSONParsing,r="json"===this.responseType;if($e.isResponse(e)||$e.isReadableStream(e))return e;if(e&&$e.isString(e)&&(s&&!this.responseType||r)){const s=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e,this.parseReviver)}catch(n){if(s){if("SyntaxError"===n.name)throw Ve.from(n,Ve.ERR_BAD_RESPONSE,this,null,this.response);throw n}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:mt.classes.FormData,Blob:mt.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};$e.forEach(["delete","get","head","post","put","patch"],e=>{pt.headers[e]={}});const ft=$e.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),gt=Symbol("internals");function xt(e){return e&&String(e).trim().toLowerCase()}function yt(e){return!1===e||null==e?e:$e.isArray(e)?e.map(yt):String(e)}function bt(e,t,s,r,n){return $e.isFunction(r)?r.call(this,t,s):(n&&(t=s),$e.isString(t)?$e.isString(r)?-1!==t.indexOf(r):$e.isRegExp(r)?r.test(t):void 0:void 0)}let jt=class{constructor(e){e&&this.set(e)}set(e,t,s){const r=this;function n(e,t,s){const n=xt(t);if(!n)throw new Error("header name must be a non-empty string");const o=$e.findKey(r,n);(!o||void 0===r[o]||!0===s||void 0===s&&!1!==r[o])&&(r[o||t]=yt(e))}const o=(e,t)=>$e.forEach(e,(e,s)=>n(e,s,t));if($e.isPlainObject(e)||e instanceof this.constructor)o(e,t);else if($e.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))o((e=>{const t={};let s,r,n;return e&&e.split("\n").forEach(function(e){n=e.indexOf(":"),s=e.substring(0,n).trim().toLowerCase(),r=e.substring(n+1).trim(),!s||t[s]&&ft[s]||("set-cookie"===s?t[s]?t[s].push(r):t[s]=[r]:t[s]=t[s]?t[s]+", "+r:r)}),t})(e),t);else if($e.isObject(e)&&$e.isIterable(e)){let s,r,n={};for(const t of e){if(!$e.isArray(t))throw TypeError("Object iterator must return a key-value pair");n[r=t[0]]=(s=n[r])?$e.isArray(s)?[...s,t[1]]:[s,t[1]]:t[1]}o(n,t)}else null!=e&&n(t,e,s);return this}get(e,t){if(e=xt(e)){const s=$e.findKey(this,e);if(s){const e=this[s];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),s=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=s.exec(e);)t[r[1]]=r[2];return t}(e);if($e.isFunction(t))return t.call(this,e,s);if($e.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=xt(e)){const s=$e.findKey(this,e);return!(!s||void 0===this[s]||t&&!bt(0,this[s],s,t))}return!1}delete(e,t){const s=this;let r=!1;function n(e){if(e=xt(e)){const n=$e.findKey(s,e);!n||t&&!bt(0,s[n],n,t)||(delete s[n],r=!0)}}return $e.isArray(e)?e.forEach(n):n(e),r}clear(e){const t=Object.keys(this);let s=t.length,r=!1;for(;s--;){const n=t[s];e&&!bt(0,this[n],n,e,!0)||(delete this[n],r=!0)}return r}normalize(e){const t=this,s={};return $e.forEach(this,(r,n)=>{const o=$e.findKey(s,n);if(o)return t[o]=yt(r),void delete t[n];const a=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,s)=>t.toUpperCase()+s)}(n):String(n).trim();a!==n&&delete t[n],t[a]=yt(r),s[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return $e.forEach(this,(s,r)=>{null!=s&&!1!==s&&(t[r]=e&&$e.isArray(s)?s.join(", "):s)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join("\n")}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const s=new this(e);return t.forEach(e=>s.set(e)),s}static accessor(e){const t=(this[gt]=this[gt]={accessors:{}}).accessors,s=this.prototype;function r(e){const r=xt(e);t[r]||(!function(e,t){const s=$e.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+s,{value:function(e,s,n){return this[r].call(this,t,e,s,n)},configurable:!0})})}(s,e),t[r]=!0)}return $e.isArray(e)?e.forEach(r):r(e),this}};function wt(e,t){const s=this||pt,r=t||s,n=jt.from(r.headers);let o=r.data;return $e.forEach(e,function(e){o=e.call(s,o,n.normalize(),t?t.status:void 0)}),n.normalize(),o}function vt(e){return!(!e||!e.__CANCEL__)}function Nt(e,t,s){Ve.call(this,null==e?"canceled":e,Ve.ERR_CANCELED,t,s),this.name="CanceledError"}function St(e,t,s){const r=s.config.validateStatus;s.status&&r&&!r(s.status)?t(new Ve("Request failed with status code "+s.status,[Ve.ERR_BAD_REQUEST,Ve.ERR_BAD_RESPONSE][Math.floor(s.status/100)-4],s.config,s.request,s)):e(s)}jt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),$e.reduceDescriptors(jt.prototype,({value:e},t)=>{let s=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(e){this[s]=e}}}),$e.freezeMethods(jt),$e.inherits(Nt,Ve,{__CANCEL__:!0});const kt=(e,t,s=3)=>{let r=0;const n=function(e,t){e=e||10;const s=new Array(e),r=new Array(e);let n,o=0,a=0;return t=void 0!==t?t:1e3,function(i){const l=Date.now(),c=r[a];n||(n=l),s[o]=i,r[o]=l;let d=a,u=0;for(;d!==o;)u+=s[d++],d%=e;if(o=(o+1)%e,o===a&&(a=(a+1)%e),l-n<t)return;const m=c&&l-c;return m?Math.round(1e3*u/m):void 0}}(50,250);return function(e,t){let s,r,n=0,o=1e3/t;const a=(t,o=Date.now())=>{n=o,s=null,r&&(clearTimeout(r),r=null),e(...t)};return[(...e)=>{const t=Date.now(),i=t-n;i>=o?a(e,t):(s=e,r||(r=setTimeout(()=>{r=null,a(s)},o-i)))},()=>s&&a(s)]}(s=>{const o=s.loaded,a=s.lengthComputable?s.total:void 0,i=o-r,l=n(i);r=o;e({loaded:o,total:a,progress:a?o/a:void 0,bytes:i,rate:l||void 0,estimated:l&&a&&o<=a?(a-o)/l:void 0,event:s,lengthComputable:null!=a,[t?"download":"upload"]:!0})},s)},Ct=(e,t)=>{const s=null!=e;return[r=>t[0]({lengthComputable:s,total:e,loaded:r}),t[1]]},Et=e=>(...t)=>$e.asap(()=>e(...t)),Ot=mt.hasStandardBrowserEnv?((e,t)=>s=>(s=new URL(s,mt.origin),e.protocol===s.protocol&&e.host===s.host&&(t||e.port===s.port)))(new URL(mt.origin),mt.navigator&&/(msie|trident)/i.test(mt.navigator.userAgent)):()=>!0,Rt=mt.hasStandardBrowserEnv?{write(e,t,s,r,n,o){const a=[e+"="+encodeURIComponent(t)];$e.isNumber(s)&&a.push("expires="+new Date(s).toGMTString()),$e.isString(r)&&a.push("path="+r),$e.isString(n)&&a.push("domain="+n),!0===o&&a.push("secure"),document.cookie=a.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function Tt(e,t,s){let r=!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t);return e&&(r||0==s)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const Pt=e=>e instanceof jt?{...e}:e;function At(e,t){t=t||{};const s={};function r(e,t,s,r){return $e.isPlainObject(e)&&$e.isPlainObject(t)?$e.merge.call({caseless:r},e,t):$e.isPlainObject(t)?$e.merge({},t):$e.isArray(t)?t.slice():t}function n(e,t,s,n){return $e.isUndefined(t)?$e.isUndefined(e)?void 0:r(void 0,e,0,n):r(e,t,0,n)}function o(e,t){if(!$e.isUndefined(t))return r(void 0,t)}function a(e,t){return $e.isUndefined(t)?$e.isUndefined(e)?void 0:r(void 0,e):r(void 0,t)}function i(s,n,o){return o in t?r(s,n):o in e?r(void 0,s):void 0}const l={url:o,method:o,data:o,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:i,headers:(e,t,s)=>n(Pt(e),Pt(t),0,!0)};return $e.forEach(Object.keys({...e,...t}),function(r){const o=l[r]||n,a=o(e[r],t[r],r);$e.isUndefined(a)&&o!==i||(s[r]=a)}),s}const Lt=e=>{const t=At({},e);let{data:s,withXSRFToken:r,xsrfHeaderName:n,xsrfCookieName:o,headers:a,auth:i}=t;if(t.headers=a=jt.from(a),t.url=rt(Tt(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),i&&a.set("Authorization","Basic "+btoa((i.username||"")+":"+(i.password?unescape(encodeURIComponent(i.password)):""))),$e.isFormData(s))if(mt.hasStandardBrowserEnv||mt.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if($e.isFunction(s.getHeaders)){const e=s.getHeaders(),t=["content-type","content-length"];Object.entries(e).forEach(([e,s])=>{t.includes(e.toLowerCase())&&a.set(e,s)})}if(mt.hasStandardBrowserEnv&&(r&&$e.isFunction(r)&&(r=r(t)),r||!1!==r&&Ot(t.url))){const e=n&&o&&Rt.read(o);e&&a.set(n,e)}return t},Ut="undefined"!=typeof XMLHttpRequest&&function(e){return new Promise(function(t,s){const r=Lt(e);let n=r.data;const o=jt.from(r.headers).normalize();let a,i,l,c,d,{responseType:u,onUploadProgress:m,onDownloadProgress:h}=r;function p(){c&&c(),d&&d(),r.cancelToken&&r.cancelToken.unsubscribe(a),r.signal&&r.signal.removeEventListener("abort",a)}let f=new XMLHttpRequest;function g(){if(!f)return;const r=jt.from("getAllResponseHeaders"in f&&f.getAllResponseHeaders());St(function(e){t(e),p()},function(e){s(e),p()},{data:u&&"text"!==u&&"json"!==u?f.response:f.responseText,status:f.status,statusText:f.statusText,headers:r,config:e,request:f}),f=null}f.open(r.method.toUpperCase(),r.url,!0),f.timeout=r.timeout,"onloadend"in f?f.onloadend=g:f.onreadystatechange=function(){f&&4===f.readyState&&(0!==f.status||f.responseURL&&0===f.responseURL.indexOf("file:"))&&setTimeout(g)},f.onabort=function(){f&&(s(new Ve("Request aborted",Ve.ECONNABORTED,e,f)),f=null)},f.onerror=function(t){const r=new Ve(t&&t.message?t.message:"Network Error",Ve.ERR_NETWORK,e,f);r.event=t||null,s(r),f=null},f.ontimeout=function(){let t=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const n=r.transitional||ot;r.timeoutErrorMessage&&(t=r.timeoutErrorMessage),s(new Ve(t,n.clarifyTimeoutError?Ve.ETIMEDOUT:Ve.ECONNABORTED,e,f)),f=null},void 0===n&&o.setContentType(null),"setRequestHeader"in f&&$e.forEach(o.toJSON(),function(e,t){f.setRequestHeader(t,e)}),$e.isUndefined(r.withCredentials)||(f.withCredentials=!!r.withCredentials),u&&"json"!==u&&(f.responseType=r.responseType),h&&([l,d]=kt(h,!0),f.addEventListener("progress",l)),m&&f.upload&&([i,c]=kt(m),f.upload.addEventListener("progress",i),f.upload.addEventListener("loadend",c)),(r.cancelToken||r.signal)&&(a=t=>{f&&(s(!t||t.type?new Nt(null,e,f):t),f.abort(),f=null)},r.cancelToken&&r.cancelToken.subscribe(a),r.signal&&(r.signal.aborted?a():r.signal.addEventListener("abort",a)));const x=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(r.url);x&&-1===mt.protocols.indexOf(x)?s(new Ve("Unsupported protocol "+x+":",Ve.ERR_BAD_REQUEST,e)):f.send(n||null)})},Ft=(e,t)=>{const{length:s}=e=e?e.filter(Boolean):[];if(t||s){let s,r=new AbortController;const n=function(e){if(!s){s=!0,a();const t=e instanceof Error?e:this.reason;r.abort(t instanceof Ve?t:new Nt(t instanceof Error?t.message:t))}};let o=t&&setTimeout(()=>{o=null,n(new Ve(`timeout ${t} of ms exceeded`,Ve.ETIMEDOUT))},t);const a=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(e=>{e.unsubscribe?e.unsubscribe(n):e.removeEventListener("abort",n)}),e=null)};e.forEach(e=>e.addEventListener("abort",n));const{signal:i}=r;return i.unsubscribe=()=>$e.asap(a),i}},Dt=function*(e,t){let s=e.byteLength;if(s<t)return void(yield e);let r,n=0;for(;n<s;)r=n+t,yield e.slice(n,r),n=r},It=async function*(e){if(e[Symbol.asyncIterator])return void(yield*e);const t=e.getReader();try{for(;;){const{done:e,value:s}=await t.read();if(e)break;yield s}}finally{await t.cancel()}},Bt=(e,t,s,r)=>{const n=async function*(e,t){for await(const s of It(e))yield*Dt(s,t)}(e,t);let o,a=0,i=e=>{o||(o=!0,r&&r(e))};return new ReadableStream({async pull(e){try{const{done:t,value:r}=await n.next();if(t)return i(),void e.close();let o=r.byteLength;if(s){let e=a+=o;s(e)}e.enqueue(new Uint8Array(r))}catch(t){throw i(t),t}},cancel:e=>(i(e),n.return())},{highWaterMark:2})},{isFunction:Mt}=$e,_t=(({Request:e,Response:t})=>({Request:e,Response:t}))($e.global),{ReadableStream:qt,TextEncoder:Wt}=$e.global,zt=(e,...t)=>{try{return!!e(...t)}catch(s){return!1}},$t=e=>{e=$e.merge.call({skipUndefined:!0},_t,e);const{fetch:t,Request:s,Response:r}=e,n=t?Mt(t):"function"==typeof fetch,o=Mt(s),a=Mt(r);if(!n)return!1;const i=n&&Mt(qt),l=n&&("function"==typeof Wt?(e=>t=>e.encode(t))(new Wt):async e=>new Uint8Array(await new s(e).arrayBuffer())),c=o&&i&&zt(()=>{let e=!1;const t=new s(mt.origin,{body:new qt,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),d=a&&i&&zt(()=>$e.isReadableStream(new r("").body)),u={stream:d&&(e=>e.body)};n&&["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!u[e]&&(u[e]=(t,s)=>{let r=t&&t[e];if(r)return r.call(t);throw new Ve(`Response type '${e}' is not supported`,Ve.ERR_NOT_SUPPORT,s)})});const m=async(e,t)=>{const r=$e.toFiniteNumber(e.getContentLength());return null==r?(async e=>{if(null==e)return 0;if($e.isBlob(e))return e.size;if($e.isSpecCompliantForm(e)){const t=new s(mt.origin,{method:"POST",body:e});return(await t.arrayBuffer()).byteLength}return $e.isArrayBufferView(e)||$e.isArrayBuffer(e)?e.byteLength:($e.isURLSearchParams(e)&&(e+=""),$e.isString(e)?(await l(e)).byteLength:void 0)})(t):r};return async e=>{let{url:n,method:a,data:i,signal:l,cancelToken:h,timeout:p,onDownloadProgress:f,onUploadProgress:g,responseType:x,headers:y,withCredentials:b="same-origin",fetchOptions:j}=Lt(e),w=t||fetch;x=x?(x+"").toLowerCase():"text";let v=Ft([l,h&&h.toAbortSignal()],p),N=null;const S=v&&v.unsubscribe&&(()=>{v.unsubscribe()});let k;try{if(g&&c&&"get"!==a&&"head"!==a&&0!==(k=await m(y,i))){let e,t=new s(n,{method:"POST",body:i,duplex:"half"});if($e.isFormData(i)&&(e=t.headers.get("content-type"))&&y.setContentType(e),t.body){const[e,s]=Ct(k,kt(Et(g)));i=Bt(t.body,65536,e,s)}}$e.isString(b)||(b=b?"include":"omit");const t=o&&"credentials"in s.prototype,l={...j,signal:v,method:a.toUpperCase(),headers:y.normalize().toJSON(),body:i,duplex:"half",credentials:t?b:void 0};N=o&&new s(n,l);let h=await(o?w(N,j):w(n,l));const p=d&&("stream"===x||"response"===x);if(d&&(f||p&&S)){const e={};["status","statusText","headers"].forEach(t=>{e[t]=h[t]});const t=$e.toFiniteNumber(h.headers.get("content-length")),[s,n]=f&&Ct(t,kt(Et(f),!0))||[];h=new r(Bt(h.body,65536,s,()=>{n&&n(),S&&S()}),e)}x=x||"text";let C=await u[$e.findKey(u,x)||"text"](h,e);return!p&&S&&S(),await new Promise((t,s)=>{St(t,s,{data:C,headers:jt.from(h.headers),status:h.status,statusText:h.statusText,config:e,request:N})})}catch(C){if(S&&S(),C&&"TypeError"===C.name&&/Load failed|fetch/i.test(C.message))throw Object.assign(new Ve("Network Error",Ve.ERR_NETWORK,e,N),{cause:C.cause||C});throw Ve.from(C,C&&C.code,e,N)}}},Vt=new Map,Ht=e=>{let t=e?e.env:{};const{fetch:s,Request:r,Response:n}=t,o=[r,n,s];let a,i,l=o.length,c=Vt;for(;l--;)a=o[l],i=c.get(a),void 0===i&&c.set(a,i=l?new Map:$t(t)),c=i;return i};Ht();const Zt={http:null,xhr:Ut,fetch:{get:Ht}};$e.forEach(Zt,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(s){}Object.defineProperty(e,"adapterName",{value:t})}});const Jt=e=>`- ${e}`,Kt=e=>$e.isFunction(e)||null===e||!1===e,Gt=(e,t)=>{e=$e.isArray(e)?e:[e];const{length:s}=e;let r,n;const o={};for(let a=0;a<s;a++){let s;if(r=e[a],n=r,!Kt(r)&&(n=Zt[(s=String(r)).toLowerCase()],void 0===n))throw new Ve(`Unknown adapter '${s}'`);if(n&&($e.isFunction(n)||(n=n.get(t))))break;o[s||"#"+a]=n}if(!n){const e=Object.entries(o).map(([e,t])=>`adapter ${e} `+(!1===t?"is not supported by the environment":"is not available in the build"));throw new Ve("There is no suitable adapter to dispatch the request "+(s?e.length>1?"since :\n"+e.map(Jt).join("\n"):" "+Jt(e[0]):"as no adapter specified"),"ERR_NOT_SUPPORT")}return n};function Xt(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Nt(null,e)}function Qt(e){Xt(e),e.headers=jt.from(e.headers),e.data=wt.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return Gt(e.adapter||pt.adapter,e)(e).then(function(t){return Xt(e),t.data=wt.call(e,e.transformResponse,t),t.headers=jt.from(t.headers),t},function(t){return vt(t)||(Xt(e),t&&t.response&&(t.response.data=wt.call(e,e.transformResponse,t.response),t.response.headers=jt.from(t.response.headers))),Promise.reject(t)})}const Yt="1.12.2",es={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{es[e]=function(s){return typeof s===e||"a"+(t<1?"n ":" ")+e}});const ts={};es.transitional=function(e,t,s){function r(e,t){return"[Axios v"+Yt+"] Transitional option '"+e+"'"+t+(s?". "+s:"")}return(s,n,o)=>{if(!1===e)throw new Ve(r(n," has been removed"+(t?" in "+t:"")),Ve.ERR_DEPRECATED);return t&&!ts[n]&&(ts[n]=!0,console.warn(r(n," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(s,n,o)}},es.spelling=function(e){return(t,s)=>(console.warn(`${s} is likely a misspelling of ${e}`),!0)};const ss={assertOptions:function(e,t,s){if("object"!=typeof e)throw new Ve("options must be an object",Ve.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let n=r.length;for(;n-- >0;){const o=r[n],a=t[o];if(a){const t=e[o],s=void 0===t||a(t,o,e);if(!0!==s)throw new Ve("option "+o+" must be "+s,Ve.ERR_BAD_OPTION_VALUE);continue}if(!0!==s)throw new Ve("Unknown option "+o,Ve.ERR_BAD_OPTION)}},validators:es},rs=ss.validators;let ns=class{constructor(e){this.defaults=e||{},this.interceptors={request:new nt,response:new nt}}async request(e,t){try{return await this._request(e,t)}catch(s){if(s instanceof Error){let e={};Error.captureStackTrace?Error.captureStackTrace(e):e=new Error;const t=e.stack?e.stack.replace(/^.+\n/,""):"";try{s.stack?t&&!String(s.stack).endsWith(t.replace(/^.+\n.+\n/,""))&&(s.stack+="\n"+t):s.stack=t}catch(r){}}throw s}}_request(e,t){"string"==typeof e?(t=t||{}).url=e:t=e||{},t=At(this.defaults,t);const{transitional:s,paramsSerializer:r,headers:n}=t;void 0!==s&&ss.assertOptions(s,{silentJSONParsing:rs.transitional(rs.boolean),forcedJSONParsing:rs.transitional(rs.boolean),clarifyTimeoutError:rs.transitional(rs.boolean)},!1),null!=r&&($e.isFunction(r)?t.paramsSerializer={serialize:r}:ss.assertOptions(r,{encode:rs.function,serialize:rs.function},!0)),void 0!==t.allowAbsoluteUrls||(void 0!==this.defaults.allowAbsoluteUrls?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),ss.assertOptions(t,{baseUrl:rs.spelling("baseURL"),withXsrfToken:rs.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let o=n&&$e.merge(n.common,n[t.method]);n&&$e.forEach(["delete","get","head","post","put","patch","common"],e=>{delete n[e]}),t.headers=jt.concat(o,n);const a=[];let i=!0;this.interceptors.request.forEach(function(e){"function"==typeof e.runWhen&&!1===e.runWhen(t)||(i=i&&e.synchronous,a.unshift(e.fulfilled,e.rejected))});const l=[];let c;this.interceptors.response.forEach(function(e){l.push(e.fulfilled,e.rejected)});let d,u=0;if(!i){const e=[Qt.bind(this),void 0];for(e.unshift(...a),e.push(...l),d=e.length,c=Promise.resolve(t);u<d;)c=c.then(e[u++],e[u++]);return c}d=a.length;let m=t;for(;u<d;){const e=a[u++],t=a[u++];try{m=e(m)}catch(h){t.call(this,h);break}}try{c=Qt.call(this,m)}catch(h){return Promise.reject(h)}for(u=0,d=l.length;u<d;)c=c.then(l[u++],l[u++]);return c}getUri(e){return rt(Tt((e=At(this.defaults,e)).baseURL,e.url,e.allowAbsoluteUrls),e.params,e.paramsSerializer)}};$e.forEach(["delete","get","head","options"],function(e){ns.prototype[e]=function(t,s){return this.request(At(s||{},{method:e,url:t,data:(s||{}).data}))}}),$e.forEach(["post","put","patch"],function(e){function t(t){return function(s,r,n){return this.request(At(n||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:s,data:r}))}}ns.prototype[e]=t(),ns.prototype[e+"Form"]=t(!0)});const os={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(os).forEach(([e,t])=>{os[t]=e});const as=function e(t){const s=new ns(t),r=se(ns.prototype.request,s);return $e.extend(r,ns.prototype,s,{allOwnKeys:!0}),$e.extend(r,s,null,{allOwnKeys:!0}),r.create=function(s){return e(At(t,s))},r}(pt);as.Axios=ns,as.CanceledError=Nt,as.CancelToken=class e{constructor(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(e){t=e});const s=this;this.promise.then(e=>{if(!s._listeners)return;let t=s._listeners.length;for(;t-- >0;)s._listeners[t](e);s._listeners=null}),this.promise.then=e=>{let t;const r=new Promise(e=>{s.subscribe(e),t=e}).then(e);return r.cancel=function(){s.unsubscribe(t)},r},e(function(e,r,n){s.reason||(s.reason=new Nt(e,r,n),t(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=t=>{e.abort(t)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let t;return{token:new e(function(e){t=e}),cancel:t}}},as.isCancel=vt,as.VERSION=Yt,as.toFormData=Qe,as.AxiosError=Ve,as.Cancel=as.CanceledError,as.all=function(e){return Promise.all(e)},as.spread=function(e){return function(t){return e.apply(null,t)}},as.isAxiosError=function(e){return $e.isObject(e)&&!0===e.isAxiosError},as.mergeConfig=At,as.AxiosHeaders=jt,as.formToJSON=e=>ht($e.isHTMLForm(e)?new FormData(e):e),as.getAdapter=Gt,as.HttpStatusCode=os,as.default=as;const{Axios:is,AxiosError:ls,CanceledError:cs,isCancel:ds,CancelToken:us,VERSION:ms,all:hs,Cancel:ps,isAxiosError:fs,spread:gs,toFormData:xs,AxiosHeaders:ys,HttpStatusCode:bs,formToJSON:js,getAdapter:ws,mergeConfig:vs}=as,Ns=as.create({baseURL:"https://api.piogino.ch/obs/api",timeout:1e4,headers:{"Content-Type":"application/json"}});Ns.interceptors.request.use(e=>e,e=>Promise.reject(e)),Ns.interceptors.response.use(e=>e.data,e=>e.response?(console.error("API Error:",e.response.data),Promise.reject(e.response.data)):e.request?(console.error("Network Error:",e.request),Promise.reject({message:"Network error. Please check your connection."})):(console.error("Error:",e.message),Promise.reject({message:e.message})));const Ss=()=>Ns.get("/slots"),ks=(e,t)=>Ns.put(`/slots/${e}`,t),Cs=e=>Ns.delete(`/slots/${e}`),Es=()=>Ns.get("/scenes"),Os=e=>Ns.post("/scenes",e),Rs=e=>Ns.delete(`/scenes/${e}`),Ts=e=>Ns.post(`/scenes/${e}/load`),Ps=e=>Ns.post(`/scenes/${e}/capture`),As=e=>Ns.get("/images",{params:e}),Ls=e=>{const t=new FormData;return t.append("image",e),Ns.post("/images/upload",t,{headers:{"Content-Type":"multipart/form-data"}})},Us=(e,t)=>Ns.post("/images/url",{url:e,name:t}),Fs=e=>Ns.delete(`/images/${e}`);function Ds(){const[t]=n(),s=t.get("slot")||"1",r=Number(s),o=ee(e=>e.slots);ee(e=>e.isConnected);const[a,i]=e.useState(!1),[l,c]=e.useState(null),d=o[r]||{},{imageUrl:u}=d;return e.useEffect(()=>{console.log(`Display page mounted for slot ${r}`);(async()=>{try{const e=await Ss();e.success&&ee.getState().setSlots(e.data.slots)}catch(e){console.error("Failed to fetch slot data:",e)}})(),te.connect();const e=setInterval(()=>{te.ping()},3e4);return()=>{clearInterval(e)}},[r]),e.useEffect(()=>{if(u&&u!==l){i(!1);const e=setTimeout(()=>{c(u)},150);return()=>clearTimeout(e)}!u&&l&&(i(!1),c(null))},[u,l]),j.jsxs("div",{className:"fixed inset-0 w-screen h-screen overflow-hidden bg-transparent",children:[l?j.jsx("img",{src:l,alt:`Slot ${r}`,className:"w-full h-full object-contain transition-opacity duration-300 "+(a?"opacity-100":"opacity-0"),onLoad:()=>i(!0),onError:e=>{console.error("Image failed to load:",l),e.target.style.display="none"},style:{imageRendering:"crisp-edges"}}):j.jsx("div",{className:"w-full h-full bg-transparent"}),!1]})}
/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Is=(...e)=>e.filter((e,t,s)=>Boolean(e)&&s.indexOf(e)===t).join(" ");
/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
var Bs={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};
/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ms=e.forwardRef(({color:t="currentColor",size:s=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:o="",children:a,iconNode:i,...l},c)=>e.createElement("svg",{ref:c,...Bs,width:s,height:s,stroke:t,strokeWidth:n?24*Number(r)/Number(s):r,className:Is("lucide",o),...l},[...i.map(([t,s])=>e.createElement(t,s)),...Array.isArray(a)?a:[a]])),_s=(t,s)=>{const r=e.forwardRef(({className:r,...n},o)=>{return e.createElement(Ms,{ref:o,iconNode:s,className:Is(`lucide-${a=t,a.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,r),...n});var a});return r.displayName=`${t}`,r},qs=_s("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]),Ws=_s("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]),zs=_s("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),$s=_s("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),Vs=_s("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),Hs=_s("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),Zs=_s("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),Js=_s("Clipboard",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}]]),Ks=_s("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]),Gs=_s("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]),Xs=_s("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),Qs=_s("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]),Ys=_s("Library",[["path",{d:"m16 6 4 14",key:"ji33uf"}],["path",{d:"M12 6v14",key:"1n7gus"}],["path",{d:"M8 8v12",key:"1gg7y9"}],["path",{d:"M4 4v16",key:"6qkkli"}]]),er=_s("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]),tr=_s("MonitorPlay",[["path",{d:"M10 7.75a.75.75 0 0 1 1.142-.638l3.664 2.249a.75.75 0 0 1 0 1.278l-3.664 2.25a.75.75 0 0 1-1.142-.64z",key:"1pctta"}],["path",{d:"M12 17v4",key:"1riwvh"}],["path",{d:"M8 21h8",key:"1ev6f3"}],["rect",{x:"2",y:"3",width:"20",height:"14",rx:"2",key:"x3v2xh"}]]),sr=_s("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]),rr=_s("PanelsTopLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]]),nr=_s("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]),or=_s("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),ar=_s("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]),ir=_s("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),lr=_s("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),cr=_s("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]),dr=_s("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),ur=_s("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),mr=_s("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),hr=_s("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]),pr=_s("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]),fr=_s("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),gr=Y(e=>({toasts:[],addToast:t=>{const s=Date.now()+Math.random(),r={id:s,type:"info",message:"",duration:3e3,...t};return e(e=>({toasts:[...e.toasts,r]})),r.duration>0&&setTimeout(()=>{e(e=>({toasts:e.toasts.filter(e=>e.id!==s)}))},r.duration),s},removeToast:t=>{e(e=>({toasts:e.toasts.filter(e=>e.id!==t)}))},success:(e,t)=>gr.getState().addToast({type:"success",message:e,duration:t}),error:(e,t)=>gr.getState().addToast({type:"error",message:e,duration:t}),warning:(e,t)=>gr.getState().addToast({type:"warning",message:e,duration:t}),info:(e,t)=>gr.getState().addToast({type:"info",message:e,duration:t})}));
/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */function xr(){const e=o(),t=[{path:"/control",label:"Control",icon:rr},{path:"/scenes",label:"Scenes",icon:Qs},{path:"/library",label:"Library",icon:Gs},{path:"/help",label:"Help",icon:Zs}];return j.jsx("header",{className:"bg-white border-b border-gray-200 sticky top-0 z-50",children:j.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:j.jsxs("div",{className:"flex items-center justify-between h-16",children:[j.jsxs(a,{to:"/",className:"flex items-center space-x-2",children:[j.jsx(tr,{className:"w-8 h-8 text-primary-600"}),j.jsx("span",{className:"font-bold text-xl text-gray-900",children:"OBS Media Controller"})]}),j.jsx("nav",{className:"flex space-x-1",children:t.map(t=>{const s=t.icon,r=e.pathname===t.path||"/"===e.pathname&&"/control"===t.path;return j.jsxs(a,{to:t.path,className:"flex items-center space-x-2 px-4 py-2 rounded-lg text-sm font-medium transition-colors "+(r?"bg-primary-50 text-primary-700":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"),children:[j.jsx(s,{className:"w-4 h-4"}),j.jsx("span",{className:"hidden sm:inline",children:t.label})]},t.path)})})]})})})}function yr({isConnected:e}){return e?j.jsxs("div",{className:"mb-6 bg-green-50 border border-green-200 rounded-lg p-4 flex items-center space-x-3",children:[j.jsx(pr,{className:"w-5 h-5 text-green-600"}),j.jsxs("div",{children:[j.jsx("p",{className:"text-sm font-medium text-green-900",children:"Connected"}),j.jsx("p",{className:"text-xs text-green-700",children:"Real-time updates active"})]})]}):j.jsxs("div",{className:"mb-6 bg-red-50 border border-red-200 rounded-lg p-4 flex items-center space-x-3",children:[j.jsx(hr,{className:"w-5 h-5 text-red-600"}),j.jsxs("div",{children:[j.jsx("p",{className:"text-sm font-medium text-red-900",children:"Disconnected"}),j.jsx("p",{className:"text-xs text-red-700",children:"Attempting to reconnect..."})]})]})}function br({isOpen:t,onClose:s,title:r,children:n,maxWidth:o="max-w-md"}){return e.useEffect(()=>{const e=e=>{"Escape"===e.key&&t&&s()};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[t,s]),e.useEffect(()=>(document.body.style.overflow=t?"hidden":"unset",()=>{document.body.style.overflow="unset"}),[t]),t?j.jsxs("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:[j.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 transition-opacity",onClick:s}),j.jsx("div",{className:"flex min-h-full items-center justify-center p-4",children:j.jsxs("div",{className:`relative bg-white rounded-xl shadow-2xl ${o} w-full transform transition-all`,onClick:e=>e.stopPropagation(),children:[j.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[j.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:r}),j.jsx("button",{onClick:s,className:"p-1 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",children:j.jsx(fr,{className:"w-5 h-5"})})]}),j.jsx("div",{className:"p-6",children:n})]})})]}):null}function jr({isOpen:t,onClose:s,onSelect:r}){const[n,o]=e.useState([]),[a,i]=e.useState(!1),[l,c]=e.useState(""),[d,u]=e.useState(null);e.useEffect(()=>{t&&m()},[t]);const m=async()=>{try{i(!0);const e=await As();e.success&&o(e.data.images||[])}catch(e){console.error("Failed to load images:",e)}finally{i(!1)}},h=n.filter(e=>{var t;return null==(t=e.name)?void 0:t.toLowerCase().includes(l.toLowerCase())}),p=()=>{s(),u(null),c("")};return j.jsx(br,{isOpen:t,onClose:p,title:"Choose from Library",maxWidth:"max-w-4xl",children:j.jsxs("div",{className:"space-y-4",children:[j.jsxs("div",{className:"relative",children:[j.jsx(ir,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),j.jsx("input",{type:"text",value:l,onChange:e=>c(e.target.value),placeholder:"Search images...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),j.jsx("div",{className:"max-h-96 overflow-y-auto",children:a?j.jsx("div",{className:"flex items-center justify-center py-12",children:j.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):0===h.length?j.jsx("div",{className:"text-center py-12",children:j.jsx("p",{className:"text-gray-500",children:l?"No images match your search":"No images in library yet"})}):j.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-3",children:h.map(e=>j.jsxs("button",{onClick:()=>u(e),className:"relative aspect-video rounded-lg overflow-hidden border-2 transition-all "+((null==d?void 0:d.id)===e.id?"border-primary-500 ring-2 ring-primary-200":"border-gray-200 hover:border-primary-300"),children:[j.jsx("img",{src:e.url,alt:e.name,className:"w-full h-full object-cover"}),(null==d?void 0:d.id)===e.id&&j.jsx("div",{className:"absolute top-2 right-2 bg-primary-600 rounded-full p-1",children:j.jsx(Hs,{className:"w-4 h-4 text-white"})}),j.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/70 to-transparent p-2",children:j.jsx("p",{className:"text-white text-xs font-medium truncate",children:e.name})})]},e.id))})}),d&&j.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:j.jsxs("p",{className:"text-sm text-blue-800",children:[j.jsx("strong",{children:"Selected:"})," ",d.name]})}),j.jsxs("div",{className:"flex space-x-3 pt-2",children:[j.jsx("button",{onClick:p,className:"flex-1 px-4 py-2.5 bg-white border border-gray-300 text-gray-700 rounded-lg font-medium hover:bg-gray-50 transition-colors",children:"Cancel"}),j.jsx("button",{onClick:()=>{d&&(r(d),s(),u(null),c(""))},disabled:!d,className:"flex-1 px-4 py-2.5 bg-primary-600 text-white rounded-lg font-medium hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Select Image"})]})]})})}function wr({slotId:t,slotData:s}){const r=ee(e=>e.clearSlot);ee(e=>e.setSlot);const[n,o]=e.useState(!1),[a,i]=e.useState(""),[l,c]=e.useState(!1),[d,u]=e.useState(!1),[m,h]=e.useState(!1),[p,f]=e.useState(!1),g=e.useRef(null),x=e.useRef(null),{imageUrl:y,updatedAt:b}=s;e.useEffect(()=>{u("undefined"!=typeof navigator&&navigator.clipboard&&"function"==typeof navigator.clipboard.read)},[]),e.useEffect(()=>{const e=async e=>{var t;if(!m)return;e.preventDefault();const s=null==(t=e.clipboardData)?void 0:t.items;if(s){for(let e=0;e<s.length;e++)if(-1!==s[e].type.indexOf("image")){const t=s[e].getAsFile();if(t){const e=new File([t],`pasted-${Date.now()}.png`,{type:t.type});return await w(e),void h(!1)}}gr.getState().warning("No image found in clipboard. Please copy an image first.")}};if(m&&x.current)return x.current.addEventListener("paste",e),x.current.focus(),()=>{var t;null==(t=x.current)||t.removeEventListener("paste",e)}},[m]);const w=async e=>{try{c(!0);const s=await Ls(e);if(s.success){const e=s.data,r=e.url;await ks(t,{imageId:e.id,imageUrl:r}),te.updateSlot(t,r,e.id),gr.getState().success(`Image uploaded to Slot ${t}`)}}catch(s){console.error("Failed to upload image:",s),gr.getState().error("Failed to upload image. Please try again.")}finally{c(!1),g.current&&(g.current.value="")}};return j.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4 sm:p-6",children:[j.jsxs("div",{className:"flex items-start justify-between mb-4",children:[j.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Slot ",t]}),y&&j.jsxs("div",{className:"flex gap-2",children:[j.jsx("button",{onClick:async()=>{if(y)try{c(!0);const e=y.split("/"),s=e[e.length-1]||`slot-${t}-${Date.now()}.png`;(await Us(y,s)).success&&gr.getState().success(`Saved "${s}" to library!`)}catch(e){console.error("Failed to save to library:",e),gr.getState().error("Failed to save to library. Please try again.")}finally{c(!1)}else gr.getState().warning("No image to save")},disabled:l,className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",title:"Save to library",children:j.jsx(ar,{className:"w-5 h-5"})}),j.jsx("button",{onClick:async()=>{try{await Cs(t),te.clearSlot(t),r(t)}catch(e){console.error("Failed to clear slot:",e)}},className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Clear slot",children:j.jsx(fr,{className:"w-5 h-5"})})]})]}),j.jsxs("div",{className:"mb-4",children:[y?j.jsx("div",{className:"relative aspect-video bg-gray-900 rounded-lg overflow-hidden",children:j.jsx("img",{src:y,alt:`Slot ${t}`,className:"w-full h-full object-contain",onError:e=>{e.target.src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAwIiBoZWlnaHQ9IjMwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cmVjdCB3aWR0aD0iNDAwIiBoZWlnaHQ9IjMwMCIgZmlsbD0iI2VlZSIvPjx0ZXh0IHg9IjUwJSIgeT0iNTAlIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxOCIgZmlsbD0iIzk5OSIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZG9taW5hbnQtYmFzZWxpbmU9Im1pZGRsZSI+SW1hZ2UgTm90IEZvdW5kPC90ZXh0Pjwvc3ZnPg=="}})}):j.jsx("div",{className:"aspect-video bg-gray-100 rounded-lg flex items-center justify-center",children:j.jsxs("div",{className:"text-center text-gray-400",children:[j.jsx(Gs,{className:"w-12 h-12 mx-auto mb-2"}),j.jsx("p",{className:"text-sm",children:"No image"})]})}),b&&j.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:["Updated: ",new Date(b).toLocaleString()]})]}),j.jsxs("div",{className:"space-y-2",children:[m&&j.jsxs("div",{className:"relative",children:[j.jsxs("div",{ref:x,contentEditable:!0,tabIndex:0,className:"w-full px-4 py-8 border-2 border-dashed border-blue-400 bg-blue-50 rounded-lg text-center text-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 cursor-text",children:[j.jsx(Js,{className:"w-8 h-8 mx-auto mb-2"}),j.jsx("p",{className:"font-medium",children:"Click here and press Ctrl+V (⌘+V on Mac)"}),j.jsx("p",{className:"text-sm mt-1",children:"Paste your image from clipboard"})]}),j.jsx("button",{onClick:()=>h(!1),className:"absolute top-2 right-2 p-1 bg-white rounded-full shadow-sm hover:bg-gray-100",children:j.jsx(fr,{className:"w-4 h-4 text-gray-600"})})]}),n?j.jsxs("form",{onSubmit:async e=>{if(e.preventDefault(),a.trim())try{await ks(t,{imageUrl:a}),te.updateSlot(t,a),i(""),o(!1),gr.getState().success(`Slot ${t} updated successfully`)}catch(s){console.error("Failed to update slot:",s),gr.getState().error("Failed to update slot. Please try again.")}},className:"flex space-x-2",children:[j.jsx("input",{type:"url",value:a,onChange:e=>i(e.target.value),placeholder:"https://example.com/image.png",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-primary-500",autoFocus:!0}),j.jsx("button",{type:"submit",className:"px-4 py-2 bg-primary-600 text-white rounded-lg text-sm font-medium hover:bg-primary-700",children:"Set"}),j.jsx("button",{type:"button",onClick:()=>{o(!1),i("")},className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg text-sm font-medium hover:bg-gray-200",children:"Cancel"})]}):j.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-2",children:[j.jsxs("button",{onClick:()=>f(!0),className:"flex items-center justify-center space-x-2 px-4 py-3 bg-purple-600 text-white rounded-lg text-sm font-medium hover:bg-purple-700 transition-colors",title:"Choose from library",children:[j.jsx(Ys,{className:"w-4 h-4"}),j.jsx("span",{children:"Library"})]}),j.jsxs("button",{onClick:()=>o(!0),className:"flex items-center justify-center space-x-2 px-4 py-3 bg-white border-2 border-gray-300 rounded-lg text-sm font-medium text-gray-700 hover:border-primary-400 hover:text-primary-600 transition-colors",children:[j.jsx(er,{className:"w-4 h-4"}),j.jsx("span",{children:"URL"})]}),j.jsxs("button",{onClick:()=>{var e;return null==(e=g.current)?void 0:e.click()},disabled:l,className:"flex items-center justify-center space-x-2 px-4 py-3 bg-primary-600 text-white rounded-lg text-sm font-medium hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[j.jsx(mr,{className:"w-4 h-4"}),j.jsx("span",{children:"Upload"})]}),d&&j.jsxs("button",{onClick:async()=>{try{if(c(!0),navigator.clipboard&&navigator.clipboard.read)try{const e=await navigator.clipboard.read();let t=null;for(const s of e){const e=s.types.find(e=>e.startsWith("image/"));if(e){const r=await s.getType(e);t=new File([r],`clipboard-${Date.now()}.png`,{type:e});break}}return t?void(await w(t)):(gr.getState().info("No image in clipboard. Try: Copy an image, then click Paste again."),void c(!1))}catch(e){console.log("Clipboard API failed, trying paste event approach:",e)}h(!0),gr.getState().info("Click in the blue box below, then press Ctrl+V (Cmd+V on Mac) to paste."),c(!1)}catch(t){console.error("Failed to paste from clipboard:",t),h(!0),gr.getState().info("Click in the blue box below, then press Ctrl+V (Cmd+V on Mac) to paste."),c(!1)}},disabled:l,className:"flex items-center justify-center space-x-2 px-4 py-3 bg-green-600 text-white rounded-lg text-sm font-medium hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",title:"Paste image from clipboard",children:[j.jsx(Js,{className:"w-4 h-4"}),j.jsx("span",{children:"Paste"})]}),j.jsx("input",{ref:g,type:"file",accept:"image/png,image/jpeg,image/jpg,image/gif,image/webp",onChange:async e=>{var t;const s=null==(t=e.target.files)?void 0:t[0];s&&await w(s)},className:"hidden"})]})]}),j.jsx(jr,{isOpen:p,onClose:()=>f(!1),onSelect:async e=>{try{await ks(t,{imageId:e.id,imageUrl:e.url}),te.updateSlot(t,e.url,e.id),gr.getState().success(`Selected "${e.name}" for Slot ${t}`)}catch(s){console.error("Failed to update slot:",s),gr.getState().error("Failed to update slot. Please try again.")}}})]})}function vr({isOpen:e,onClose:t,onConfirm:s,title:r,message:n,confirmText:o="Confirm",cancelText:a="Cancel",variant:i="primary"}){if(!e)return null;const l={danger:{icon:"text-red-600",button:"bg-red-600 hover:bg-red-700 focus:ring-red-500"},warning:{icon:"text-yellow-600",button:"bg-yellow-600 hover:bg-yellow-700 focus:ring-yellow-500"},primary:{icon:"text-primary-600",button:"bg-primary-600 hover:bg-primary-700 focus:ring-primary-500"}},c=l[i]||l.primary;return j.jsxs("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:[j.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 transition-opacity",onClick:t}),j.jsx("div",{className:"flex min-h-full items-center justify-center p-4",children:j.jsx("div",{className:"relative bg-white rounded-xl shadow-2xl max-w-md w-full transform transition-all",onClick:e=>e.stopPropagation(),children:j.jsxs("div",{className:"p-6",children:[j.jsx("div",{className:"flex items-center justify-center w-12 h-12 mx-auto mb-4 rounded-full bg-gray-100",children:j.jsx(ur,{className:`w-6 h-6 ${c.icon}`})}),j.jsx("h3",{className:"text-lg font-semibold text-gray-900 text-center mb-2",children:r}),j.jsx("p",{className:"text-sm text-gray-600 text-center mb-6",children:n}),j.jsxs("div",{className:"flex space-x-3",children:[j.jsx("button",{onClick:t,className:"flex-1 px-4 py-2.5 bg-white border border-gray-300 text-gray-700 rounded-lg font-medium hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500 transition-colors",children:a}),j.jsx("button",{onClick:()=>{s(),t()},className:`flex-1 px-4 py-2.5 text-white rounded-lg font-medium focus:outline-none focus:ring-2 focus:ring-offset-2 transition-colors ${c.button}`,children:o})]})]})})})]})}function Nr(){const t=ee(e=>e.slots),s=ee(e=>e.setSlots),r=ee(e=>e.scenes),n=ee(e=>e.setScenes),o=ee(e=>e.addScene),i=ee(e=>e.deleteScene);ee(e=>e.currentScene);const l=ee(e=>e.setCurrentScene),c=ee(e=>e.isConnected),[d,u]=e.useState(3),[m,h]=e.useState(!0),[p,f]=e.useState(!1),[g,x]=e.useState(!1),[y,b]=e.useState(null),[w,v]=e.useState(""),[N,S]=e.useState("");e.useEffect(()=>{(async()=>{try{h(!0),te.connect();const[e,t]=await Promise.all([Ss(),Es()]);e.success&&s(e.data.slots),t.success&&n(t.data.scenes)}catch(e){console.error("Failed to initialize:",e)}finally{h(!1)}})()},[]);const k=()=>{v(""),S(""),f(!0)},C=async()=>{if(w.trim())try{const e=await Os({name:w.trim(),description:N.trim()||"Created from current slots",slots:{...t}});e.success&&(o(e.data),gr.getState().success(`Scene "${w}" created successfully!`),f(!1),v(""),S(""))}catch(e){console.error("Failed to create scene:",e),gr.getState().error("Failed to create scene. Please try again.")}else gr.getState().warning("Please enter a scene name")};return m?j.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:j.jsxs("div",{className:"text-center",children:[j.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto mb-4"}),j.jsx("p",{className:"text-gray-600",children:"Loading..."})]})}):j.jsxs("div",{className:"min-h-screen bg-gray-50",children:[j.jsx(xr,{}),j.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[j.jsx(yr,{isConnected:c}),j.jsxs("section",{className:"mb-8 animate-fade-in",children:[j.jsxs("div",{className:"flex items-center justify-between mb-4",children:[j.jsxs("h2",{className:"text-xl font-semibold text-gray-900 flex items-center",children:[j.jsx(Qs,{className:"w-5 h-5 mr-2"}),"Scene Presets"]}),j.jsxs("button",{onClick:k,className:"flex items-center space-x-2 px-4 py-2 bg-primary-600 text-white rounded-lg font-medium hover:bg-primary-700 transition-colors",children:[j.jsx(or,{className:"w-5 h-5"}),j.jsx("span",{children:"Create Scene"})]})]}),0===r.length?j.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-8 text-center",children:[j.jsx("p",{className:"text-gray-500 mb-4",children:"No scenes yet. Create your first scene!"}),j.jsx("button",{onClick:k,className:"px-6 py-3 bg-primary-600 text-white rounded-lg font-medium hover:bg-primary-700",children:"Create Scene from Current Slots"})]}):j.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:r.map(e=>j.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6 hover:shadow-md transition-shadow",children:[j.jsxs("div",{className:"flex items-start justify-between mb-4",children:[j.jsxs("div",{className:"flex-1",children:[j.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:e.name}),j.jsx("p",{className:"text-sm text-gray-600",children:e.description})]}),j.jsx("button",{onClick:()=>(async e=>{b(e),x(!0)})(e.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:j.jsx(dr,{className:"w-4 h-4"})})]}),j.jsx("div",{className:"mb-4",children:j.jsxs("p",{className:"text-sm text-gray-600",children:["Slots configured: ",Object.keys(e.slots||{}).length]})}),j.jsxs("div",{className:"flex space-x-2",children:[j.jsxs("button",{onClick:()=>(async(e,t)=>{try{const s=await Ps(e);if(s.success){const e=s.data.slotsCaptured||Object.keys(s.data.slots||{}).length;gr.getState().success(`Scene "${t}" updated with ${e} slot${1!==e?"s":""}!`);const r=await Es();r.success&&n(r.data.scenes)}}catch(s){console.error("Failed to capture scene:",s),gr.getState().error("Failed to update scene. Please try again.")}})(e.id,e.name),className:"flex-1 flex items-center justify-center space-x-2 px-4 py-2 bg-gray-100 text-gray-700 rounded-lg font-medium hover:bg-gray-200 transition-colors",title:"Update scene with current slots",children:[j.jsx(Ws,{className:"w-4 h-4"}),j.jsx("span",{children:"Update"})]}),j.jsxs("button",{onClick:()=>(async e=>{try{await Ts(e),l(e),gr.getState().success("Scene loaded!")}catch(t){console.error("Failed to load scene:",t),gr.getState().error("Failed to load scene")}})(e.id),className:"flex-1 flex items-center justify-center space-x-2 px-4 py-2 bg-primary-600 text-white rounded-lg font-medium hover:bg-primary-700 transition-colors",title:"Load this scene",children:[j.jsx(nr,{className:"w-4 h-4"}),j.jsx("span",{children:"Load"})]})]})]},e.id))})]}),j.jsxs("section",{className:"animate-slide-up",children:[j.jsxs("div",{className:"flex items-center justify-between mb-4",children:[j.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Current Slots"}),j.jsx(a,{to:"/library",className:"px-4 py-2 bg-white border border-gray-300 rounded-lg text-sm font-medium text-gray-700 hover:bg-gray-50 transition-colors",children:"Image Library"})]}),j.jsx("div",{className:"space-y-4",children:Array.from({length:d},(e,t)=>t+1).map(e=>j.jsx(wr,{slotId:e,slotData:t[e]||{}},e))}),j.jsx("button",{onClick:()=>u(e=>e+1),className:"mt-4 w-full py-3 border-2 border-dashed border-gray-300 rounded-lg text-gray-600 hover:border-primary-400 hover:text-primary-600 transition-colors",children:"+ Add Slot"})]})]}),j.jsx(br,{isOpen:p,onClose:()=>f(!1),title:"Create New Scene",children:j.jsxs("div",{className:"space-y-4",children:[j.jsxs("div",{children:[j.jsx("label",{htmlFor:"sceneName",className:"block text-sm font-medium text-gray-700 mb-2",children:"Scene Name *"}),j.jsx("input",{id:"sceneName",type:"text",value:w,onChange:e=>v(e.target.value),placeholder:"e.g., Opening Presentation",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",autoFocus:!0,onKeyDown:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),C())}})]}),j.jsxs("div",{children:[j.jsx("label",{htmlFor:"sceneDescription",className:"block text-sm font-medium text-gray-700 mb-2",children:"Description (optional)"}),j.jsx("textarea",{id:"sceneDescription",value:N,onChange:e=>S(e.target.value),placeholder:"Describe when to use this scene...",rows:3,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent resize-none"})]}),j.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:[j.jsxs("p",{className:"text-sm text-blue-800",children:[j.jsx("strong",{children:"Current slots:"})," ",Object.keys(t).length," configured"]}),j.jsx("p",{className:"text-xs text-blue-600 mt-1",children:"This scene will save your current slot configuration"})]}),j.jsxs("div",{className:"flex space-x-3 pt-2",children:[j.jsx("button",{onClick:()=>f(!1),className:"flex-1 px-4 py-2.5 bg-white border border-gray-300 text-gray-700 rounded-lg font-medium hover:bg-gray-50 transition-colors",children:"Cancel"}),j.jsx("button",{onClick:C,disabled:!w.trim(),className:"flex-1 px-4 py-2.5 bg-primary-600 text-white rounded-lg font-medium hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Create Scene"})]})]})}),j.jsx(vr,{isOpen:g,onClose:()=>{x(!1),b(null)},onConfirm:async()=>{if(y)try{await Rs(y),i(y),gr.getState().success("Scene deleted successfully!")}catch(e){console.error("Failed to delete scene:",e),gr.getState().error("Failed to delete scene. Please try again.")}finally{b(null)}},title:"Delete Scene?",message:"Are you sure you want to delete this scene? This action cannot be undone.",confirmText:"Delete",cancelText:"Cancel",variant:"danger"})]})}function Sr(){const t=ee(e=>e.scenes),s=ee(e=>e.setScenes),r=ee(e=>e.addScene),n=ee(e=>e.deleteScene),o=ee(e=>e.slots),[a,i]=e.useState(!1),[l,c]=e.useState(!1),[d,u]=e.useState(null),[m,h]=e.useState(!0),[p,f]=e.useState(""),[g,x]=e.useState("");e.useEffect(()=>{y()},[]);const y=async()=>{try{h(!0);const e=await Es();e.success&&s(e.data.scenes)}catch(e){console.error("Failed to load scenes:",e),gr.getState().error("Failed to load scenes from server")}finally{h(!1)}},b=()=>{f(""),x(""),i(!0)},w=async()=>{if(p.trim())try{const e=await Os({name:p.trim(),description:g.trim()||"Created from current slots",slots:{...o}});e.success&&(r(e.data),gr.getState().success(`Scene "${p}" created successfully!`),i(!1),f(""),x(""))}catch(e){console.error("Failed to create scene:",e),gr.getState().error("Failed to create scene. Please try again.")}else gr.getState().warning("Please enter a scene name")};return m?j.jsxs("div",{className:"min-h-screen bg-gray-50",children:[j.jsx(xr,{}),j.jsx("div",{className:"flex items-center justify-center h-96",children:j.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})})]}):j.jsxs("div",{className:"min-h-screen bg-gray-50",children:[j.jsx(xr,{}),j.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[j.jsxs("div",{className:"flex items-center justify-between mb-6",children:[j.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Scene Presets"}),j.jsxs("button",{onClick:b,className:"flex items-center space-x-2 px-4 py-2 bg-primary-600 text-white rounded-lg font-medium hover:bg-primary-700",children:[j.jsx(or,{className:"w-5 h-5"}),j.jsx("span",{children:"Create Scene"})]})]}),0===t.length?j.jsxs("div",{className:"text-center py-12",children:[j.jsx("p",{className:"text-gray-500 mb-4",children:"No scenes yet. Create your first scene!"}),j.jsx("button",{onClick:b,className:"px-6 py-3 bg-primary-600 text-white rounded-lg font-medium hover:bg-primary-700",children:"Create Scene from Current Slots"})]}):j.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:t.map(e=>j.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6 hover:shadow-md transition-shadow",children:[j.jsxs("div",{className:"flex items-start justify-between mb-4",children:[j.jsxs("div",{children:[j.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:e.name}),j.jsx("p",{className:"text-sm text-gray-600",children:e.description})]}),j.jsx("button",{onClick:()=>(async e=>{u(e),c(!0)})(e.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg",children:j.jsx(dr,{className:"w-4 h-4"})})]}),j.jsx("div",{className:"mb-4",children:j.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:["Slots configured: ",Object.keys(e.slots||{}).length]})}),j.jsxs("div",{className:"flex space-x-2",children:[j.jsxs("button",{onClick:()=>(async(e,t)=>{try{const s=await Ps(e);if(s.success){const e=s.data.slotsCaptured||Object.keys(s.data.slots||{}).length;gr.getState().success(`Scene "${t}" updated with ${e} slot${1!==e?"s":""}!`),await y()}}catch(s){console.error("Failed to capture scene:",s),gr.getState().error("Failed to update scene. Please try again.")}})(e.id,e.name),className:"flex-1 flex items-center justify-center space-x-2 px-4 py-2 bg-gray-100 text-gray-700 rounded-lg font-medium hover:bg-gray-200 transition-colors",title:"Update scene with current slots",children:[j.jsx(Ws,{className:"w-4 h-4"}),j.jsx("span",{children:"Update"})]}),j.jsxs("button",{onClick:()=>(async e=>{try{await Ts(e),gr.getState().success("Scene loaded successfully!")}catch(t){console.error("Failed to load scene:",t),gr.getState().error("Failed to load scene. Please try again.")}})(e.id),className:"flex-1 flex items-center justify-center space-x-2 px-4 py-2 bg-primary-600 text-white rounded-lg font-medium hover:bg-primary-700 transition-colors",title:"Load this scene",children:[j.jsx(nr,{className:"w-4 h-4"}),j.jsx("span",{children:"Load"})]})]})]},e.id))})]}),j.jsx(br,{isOpen:a,onClose:()=>i(!1),title:"Create New Scene",children:j.jsxs("div",{className:"space-y-4",children:[j.jsxs("div",{children:[j.jsx("label",{htmlFor:"sceneName",className:"block text-sm font-medium text-gray-700 mb-2",children:"Scene Name *"}),j.jsx("input",{id:"sceneName",type:"text",value:p,onChange:e=>f(e.target.value),placeholder:"e.g., Opening Presentation",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",autoFocus:!0,onKeyDown:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),w())}})]}),j.jsxs("div",{children:[j.jsx("label",{htmlFor:"sceneDescription",className:"block text-sm font-medium text-gray-700 mb-2",children:"Description (optional)"}),j.jsx("textarea",{id:"sceneDescription",value:g,onChange:e=>x(e.target.value),placeholder:"Describe when to use this scene...",rows:3,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent resize-none"})]}),j.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:[j.jsxs("p",{className:"text-sm text-blue-800",children:[j.jsx("strong",{children:"Current slots:"})," ",Object.keys(o).length," configured"]}),j.jsx("p",{className:"text-xs text-blue-600 mt-1",children:"This scene will save your current slot configuration"})]}),j.jsxs("div",{className:"flex space-x-3 pt-2",children:[j.jsx("button",{onClick:()=>i(!1),className:"flex-1 px-4 py-2.5 bg-white border border-gray-300 text-gray-700 rounded-lg font-medium hover:bg-gray-50 transition-colors",children:"Cancel"}),j.jsx("button",{onClick:w,disabled:!p.trim(),className:"flex-1 px-4 py-2.5 bg-primary-600 text-white rounded-lg font-medium hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Create Scene"})]})]})}),j.jsx(vr,{isOpen:l,onClose:()=>{c(!1),u(null)},onConfirm:async()=>{if(d)try{await Rs(d),n(d),gr.getState().success("Scene deleted successfully!")}catch(e){console.error("Failed to delete scene:",e),gr.getState().error("Failed to delete scene. Please try again.")}finally{u(null)}},title:"Delete Scene?",message:"Are you sure you want to delete this scene? This action cannot be undone.",confirmText:"Delete",cancelText:"Cancel",variant:"danger"})]})}function kr(){const t=ee(e=>e.images),s=ee(e=>e.setImages),r=ee(e=>e.addImage),n=ee(e=>e.deleteImage),[o,a]=e.useState(!0),[i,l]=e.useState(!1),[c,d]=e.useState(""),[u,m]=e.useState(""),[h,p]=e.useState(!1),[f,g]=e.useState(null),[x,y]=e.useState(!1),[b,w]=e.useState(!1),[v,N]=e.useState(!1),[S,k]=e.useState(null),[C,E]=e.useState(""),[O,R]=e.useState(!1),[T,P]=e.useState(null),A=e.useRef(null),L=e.useRef(null);e.useEffect(()=>{U()},[]),e.useEffect(()=>{w("undefined"!=typeof navigator&&navigator.clipboard&&"function"==typeof navigator.clipboard.read)},[]),e.useEffect(()=>{const e=async e=>{var t;if(!x)return;e.preventDefault();const s=null==(t=e.clipboardData)?void 0:t.items;if(s){for(let e=0;e<s.length;e++)if(-1!==s[e].type.indexOf("image")){const t=s[e].getAsFile();if(t){const e=new File([t],`pasted-${Date.now()}.png`,{type:t.type});return await F(e),void y(!1)}}gr.getState().warning("No image found in clipboard. Please copy an image first.")}};if(x&&L.current)return L.current.addEventListener("paste",e),L.current.focus(),()=>{var t;null==(t=L.current)||t.removeEventListener("paste",e)}},[x]);const U=async()=>{try{a(!0);const e=await As();e.success&&s(e.data.images)}catch(e){console.error("Failed to load images:",e),gr.getState().error("Failed to load images from library")}finally{a(!1)}},F=async e=>{try{l(!0);const t=await Ls(e);t.success&&(r(t.data),gr.getState().success(`Image uploaded: ${e.name}`))}catch(t){console.error("Failed to upload image:",t),gr.getState().error("Failed to upload image. Please try again.")}finally{l(!1)}},D=async e=>{k(e),E(""),N(!0)},I=t.filter(e=>{var t,s;return(null==(t=e.filename)?void 0:t.toLowerCase().includes(c.toLowerCase()))||(null==(s=e.originalName)?void 0:s.toLowerCase().includes(c.toLowerCase()))});return j.jsxs("div",{className:"min-h-screen bg-gray-50",children:[j.jsx(xr,{}),j.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[j.jsxs("div",{className:"mb-6",children:[j.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Image Library"}),j.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[j.jsxs("div",{className:"flex-1 relative",children:[j.jsx(ir,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),j.jsx("input",{type:"text",placeholder:"Search images...",value:c,onChange:e=>d(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500"})]}),j.jsxs("button",{onClick:()=>p(!h),disabled:i,className:"flex items-center justify-center space-x-2 px-6 py-2 bg-gray-600 text-white rounded-lg font-medium hover:bg-gray-700 disabled:opacity-50",title:"Add image by URL",children:[j.jsx(er,{className:"w-5 h-5"}),j.jsx("span",{children:"Add URL"})]}),b&&j.jsxs("button",{onClick:async()=>{try{if(l(!0),navigator.clipboard&&navigator.clipboard.read)try{const e=await navigator.clipboard.read();let t=null;for(const s of e){const e=s.types.find(e=>e.startsWith("image/"));if(e){const r=await s.getType(e);t=new File([r],`clipboard-${Date.now()}.png`,{type:e});break}}return t?void(await F(t)):(gr.getState().info("No image in clipboard. Try: Copy an image, then click Paste again."),void l(!1))}catch(e){console.log("Clipboard API failed, trying paste event approach:",e)}y(!0),gr.getState().info("Click in the blue box below, then press Ctrl+V (Cmd+V on Mac) to paste."),l(!1)}catch(t){console.error("Failed to paste from clipboard:",t),y(!0),gr.getState().info("Click in the blue box below, then press Ctrl+V (Cmd+V on Mac) to paste."),l(!1)}},disabled:i,className:"flex items-center justify-center space-x-2 px-6 py-2 bg-green-600 text-white rounded-lg font-medium hover:bg-green-700 disabled:opacity-50",title:"Paste image from clipboard",children:[j.jsx(Js,{className:"w-5 h-5"}),j.jsx("span",{children:"Paste"})]}),j.jsxs("button",{onClick:()=>{var e;return null==(e=A.current)?void 0:e.click()},disabled:i,className:"flex items-center justify-center space-x-2 px-6 py-2 bg-primary-600 text-white rounded-lg font-medium hover:bg-primary-700 disabled:opacity-50",children:[j.jsx(mr,{className:"w-5 h-5"}),j.jsx("span",{children:i?"Uploading...":"Upload Images"})]}),j.jsx("input",{ref:A,type:"file",accept:"image/png,image/jpeg,image/jpg,image/gif,image/webp",multiple:!0,onChange:async e=>{const t=Array.from(e.target.files||[]);if(0!==t.length)try{l(!0);let e=0;for(const s of t){const t=await Ls(s);t.success&&(r(t.data),e++)}gr.getState().success(`Successfully uploaded ${e} image(s)`)}catch(s){console.error("Failed to upload images:",s),gr.getState().error("Failed to upload one or more images")}finally{l(!1),A.current&&(A.current.value="")}},className:"hidden"})]}),h&&j.jsxs("form",{onSubmit:async e=>{if(e.preventDefault(),u.trim())try{l(!0);const e=await Us(u,"Image from URL");e.success&&(r(e.data),gr.getState().success("Image added from URL"),m(""),p(!1))}catch(t){console.error("Failed to add image from URL:",t),gr.getState().error("Failed to add image from URL. Please check the URL.")}finally{l(!1)}},className:"mt-4 flex gap-2",children:[j.jsx("input",{type:"url",value:u,onChange:e=>m(e.target.value),placeholder:"https://example.com/image.jpg",className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500",autoFocus:!0,disabled:i}),j.jsx("button",{type:"submit",disabled:i||!u.trim(),className:"px-6 py-2 bg-primary-600 text-white rounded-lg font-medium hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed",children:"Add"}),j.jsx("button",{type:"button",onClick:()=>{p(!1),m("")},className:"px-6 py-2 bg-gray-100 text-gray-700 rounded-lg font-medium hover:bg-gray-200",children:"Cancel"})]}),x&&j.jsxs("div",{className:"relative mt-4",children:[j.jsxs("div",{ref:L,contentEditable:!0,tabIndex:0,className:"w-full px-4 py-8 border-2 border-dashed border-blue-400 bg-blue-50 rounded-lg text-center text-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 cursor-text",children:[j.jsx(Js,{className:"w-8 h-8 mx-auto mb-2"}),j.jsx("p",{className:"font-medium",children:"Click here and press Ctrl+V (⌘+V on Mac)"}),j.jsx("p",{className:"text-sm mt-1",children:"Paste your image from clipboard to add to library"})]}),j.jsx("button",{onClick:()=>y(!1),className:"absolute top-2 right-2 p-1 bg-white rounded-full shadow-sm hover:bg-gray-100",children:j.jsx(fr,{className:"w-4 h-4 text-gray-600"})})]})]}),o?j.jsx("div",{className:"flex items-center justify-center h-64",children:j.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):0===I.length?j.jsxs("div",{className:"text-center py-12",children:[j.jsx("p",{className:"text-gray-500 mb-4",children:c?"No images found":"No images yet. Upload your first image!"}),!c&&j.jsx("button",{onClick:()=>{var e;return null==(e=A.current)?void 0:e.click()},className:"px-6 py-3 bg-primary-600 text-white rounded-lg font-medium hover:bg-primary-700",children:"Upload Images"})]}):j.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-4",children:I.map(e=>j.jsxs("div",{className:"group relative bg-white rounded-lg border border-gray-200 overflow-hidden hover:shadow-lg transition-shadow",children:[j.jsx("div",{className:"aspect-square bg-gray-100 overflow-hidden",children:j.jsx("img",{src:e.url,alt:e.originalName,className:"w-full h-full object-cover cursor-pointer",onClick:()=>D(e)})}),j.jsxs("div",{className:"p-2",children:[j.jsx("p",{className:"text-xs text-gray-700 truncate",title:e.originalName,children:e.originalName||e.filename}),j.jsxs("p",{className:"text-xs text-gray-500",children:[e.width," × ",e.height]})]}),j.jsx("button",{onClick:t=>{t.stopPropagation(),(async e=>{P(e),R(!0)})(e.id)},className:"absolute top-2 right-2 p-2 bg-red-600 text-white rounded-lg opacity-0 group-hover:opacity-100 transition-opacity z-10",title:"Delete image",children:j.jsx(dr,{className:"w-4 h-4"})}),j.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-40 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity cursor-pointer",onClick:()=>D(e),children:j.jsx("p",{className:"text-white font-medium text-sm",children:"Click to assign"})})]},e.id))})]}),j.jsx(br,{isOpen:v,onClose:()=>{N(!1),k(null),E("")},title:"Assign to Slot",children:j.jsxs("form",{onSubmit:async e=>{if(e.preventDefault(),C&&S)try{await ks(C,{imageId:S.id,imageUrl:S.url}),te.updateSlot(C,S.url,S.id),gr.getState().success(`Image assigned to Slot ${C}`),N(!1),k(null),E("")}catch(t){console.error("Failed to assign image:",t),gr.getState().error("Failed to assign image to slot")}},className:"space-y-4",children:[j.jsxs("div",{children:[j.jsx("label",{htmlFor:"slotNumber",className:"block text-sm font-medium text-gray-700 mb-1",children:"Slot Number"}),j.jsx("input",{id:"slotNumber",type:"number",min:"1",value:C,onChange:e=>E(e.target.value),placeholder:"Enter slot number (e.g., 1, 2, 3...)",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500",autoFocus:!0,required:!0})]}),S&&j.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[j.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Image to assign:"}),j.jsxs("div",{className:"flex items-center space-x-3",children:[j.jsx("img",{src:S.url,alt:S.originalName,className:"w-16 h-16 object-cover rounded"}),j.jsxs("div",{className:"flex-1 min-w-0",children:[j.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:S.originalName||S.filename}),j.jsxs("p",{className:"text-xs text-gray-500",children:[S.width," × ",S.height]})]})]})]}),j.jsxs("div",{className:"flex justify-end space-x-3",children:[j.jsx("button",{type:"button",onClick:()=>{N(!1),k(null),E("")},className:"px-4 py-2 text-gray-700 hover:bg-gray-100 rounded-lg font-medium transition-colors",children:"Cancel"}),j.jsx("button",{type:"submit",disabled:!C,className:"px-4 py-2 bg-primary-600 text-white rounded-lg font-medium hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Assign to Slot"})]})]})}),j.jsx(vr,{isOpen:O,onClose:()=>{R(!1),P(null)},onConfirm:async()=>{if(T)try{await Fs(T),n(T),gr.getState().success("Image deleted successfully")}catch(e){console.error("Failed to delete image:",e),gr.getState().error("Failed to delete image")}finally{R(!1),P(null)}},title:"Delete Image",message:"Are you sure you want to delete this image? This action cannot be undone.",confirmText:"Delete",variant:"danger"})]})}function Cr(){const[t,s]=e.useState("setup"),r=({id:e,icon:r,title:n,children:o})=>{const a=t===e;return j.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:[j.jsxs("button",{onClick:()=>{var r;s(t===(r=e)?null:r)},className:"w-full flex items-center justify-between p-6 text-left hover:bg-gray-50 transition-colors",children:[j.jsxs("div",{className:"flex items-center space-x-3",children:[j.jsx(r,{className:"w-6 h-6 text-primary-600"}),j.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:n})]}),a?j.jsx(zs,{className:"w-5 h-5 text-gray-400"}):j.jsx($s,{className:"w-5 h-5 text-gray-400"})]}),a&&j.jsx("div",{className:"px-6 pb-6 prose prose-sm max-w-none",children:o})]})};return j.jsxs("div",{className:"min-h-screen bg-gray-50",children:[j.jsx(xr,{}),j.jsxs("main",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[j.jsxs("div",{className:"mb-8",children:[j.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Help & Setup Guide"}),j.jsx("p",{className:"text-gray-600",children:"Learn how to use OBS Media Controller and set up OBS for remote image control"})]}),j.jsxs("div",{className:"space-y-4",children:[j.jsx(r,{id:"setup",icon:lr,title:"OBS Setup Instructions",children:j.jsxs("div",{children:[j.jsx("h3",{className:"font-semibold text-lg mb-3",children:"Step 1: Create Image Sources in OBS"}),j.jsxs("ol",{className:"list-decimal list-inside space-y-2 mb-6",children:[j.jsx("li",{children:"Open OBS Studio"}),j.jsxs("li",{children:["In your scene, click the ",j.jsx("strong",{children:"+"})," button in the Sources panel"]}),j.jsxs("li",{children:["Select ",j.jsx("strong",{children:'"Browser"'})," from the list"]}),j.jsxs("li",{children:["Name it ",j.jsx("strong",{children:'"Slot 1"'})," (or any name you prefer)"]}),j.jsx("li",{children:"Click OK"})]}),j.jsx("h3",{className:"font-semibold text-lg mb-3",children:"Step 2: Configure the Browser Source"}),j.jsxs("ol",{className:"list-decimal list-inside space-y-2 mb-6",children:[j.jsxs("li",{children:["In the URL field, enter:"," ",j.jsx("code",{className:"bg-gray-100 px-2 py-1 rounded text-sm",children:"https://obs-media-control.piogino.ch/display?slot=1"})]}),j.jsxs("li",{children:["Set Width: ",j.jsx("strong",{children:"1920"})," (or your desired width)"]}),j.jsxs("li",{children:["Set Height: ",j.jsx("strong",{children:"1080"})," (or your desired height)"]}),j.jsxs("li",{children:["Check ✓ ",j.jsx("strong",{children:'"Shutdown source when not visible"'})," (optional, saves resources)"]}),j.jsxs("li",{children:["Check ✓ ",j.jsx("strong",{children:'"Refresh browser when scene becomes active"'})," (recommended)"]}),j.jsx("li",{children:"Click OK"})]}),j.jsx("h3",{className:"font-semibold text-lg mb-3",children:"Step 3: Repeat for Additional Slots"}),j.jsx("p",{className:"mb-4",children:"Create more browser sources for Slot 2, 3, and 4:"}),j.jsxs("ul",{className:"list-disc list-inside space-y-1 mb-6",children:[j.jsxs("li",{children:["Slot 2: ",j.jsx("code",{className:"bg-gray-100 px-2 py-1 rounded text-sm",children:"https://obs-media-control.piogino.ch/display?slot=2"})]}),j.jsxs("li",{children:["Slot 3: ",j.jsx("code",{className:"bg-gray-100 px-2 py-1 rounded text-sm",children:"https://obs-media-control.piogino.ch/display?slot=3"})]}),j.jsxs("li",{children:["Slot 4: ",j.jsx("code",{className:"bg-gray-100 px-2 py-1 rounded text-sm",children:"https://obs-media-control.piogino.ch/display?slot=4"})]})]}),j.jsx("h3",{className:"font-semibold text-lg mb-3",children:"Step 4: Position Your Sources"}),j.jsxs("ul",{className:"list-disc list-inside space-y-2",children:[j.jsx("li",{children:"Resize and position each slot where you want images to appear"}),j.jsx("li",{children:"You can overlay them, place them side-by-side, or in corners"}),j.jsx("li",{children:"Right-click → Transform → Fit to screen (if needed)"})]}),j.jsx("div",{className:"mt-6 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:j.jsxs("p",{className:"text-sm text-blue-800",children:[j.jsx("strong",{children:"💡 Pro Tip:"})," Create a dedicated scene for presentations with all 4 slots pre-configured!"]})})]})}),j.jsx(r,{id:"control",icon:cr,title:"Using the Control Page",children:j.jsxs("div",{children:[j.jsx("h3",{className:"font-semibold text-lg mb-3",children:"Control Panel Overview"}),j.jsx("p",{className:"mb-4",children:"The Control page lets you manage images in 4 different slots during your presentation."}),j.jsx("h4",{className:"font-semibold mb-2",children:"Three Ways to Add Images to Slots:"}),j.jsxs("ol",{className:"list-decimal list-inside space-y-3 mb-6",children:[j.jsxs("li",{children:[j.jsx("strong",{children:"URL"}),' - Click the "URL" button, paste an image URL, click "Set"']}),j.jsxs("li",{children:[j.jsx("strong",{children:"Upload"}),' - Click "Upload", select an image file from your computer']}),j.jsxs("li",{children:[j.jsx("strong",{children:"Paste"}),' - Copy an image (screenshot, right-click → copy image), click "Paste"']})]}),j.jsx("h4",{className:"font-semibold mb-2",children:"Clear a Slot:"}),j.jsxs("p",{className:"mb-4",children:["Click the ",j.jsx("strong",{children:"X"})," button in the top-right corner of any slot to remove the image."]}),j.jsx("div",{className:"mt-6 p-4 bg-green-50 border border-green-200 rounded-lg",children:j.jsxs("p",{className:"text-sm text-green-800",children:[j.jsx("strong",{children:"✨ Best Practice:"})," Use your iPad or phone to control images while presenting from your computer!"]})})]})}),j.jsx(r,{id:"library",icon:Gs,title:"Using the Image Library",children:j.jsxs("div",{children:[j.jsx("h3",{className:"font-semibold text-lg mb-3",children:"Build Your Image Collection"}),j.jsx("p",{className:"mb-4",children:"The Library page lets you prepare images ahead of time and quickly assign them to slots during presentations."}),j.jsx("h4",{className:"font-semibold mb-2",children:"Four Ways to Add Images to Library:"}),j.jsxs("ol",{className:"list-decimal list-inside space-y-3 mb-6",children:[j.jsxs("li",{children:[j.jsx("strong",{children:"Add URL"})," (Gray button) - Add images directly from web URLs"]}),j.jsxs("li",{children:[j.jsx("strong",{children:"Paste"})," (Green button) - Paste images from clipboard"]}),j.jsxs("li",{children:[j.jsx("strong",{children:"Upload Images"})," (Blue button) - Upload multiple files at once"]}),j.jsxs("li",{children:[j.jsx("strong",{children:"Search"})," - Filter your library to find specific images"]})]}),j.jsx("h4",{className:"font-semibold mb-2",children:"Assign Images to Slots:"}),j.jsxs("ol",{className:"list-decimal list-inside space-y-2 mb-6",children:[j.jsx("li",{children:"Click on any image in the library"}),j.jsx("li",{children:"Enter the slot number (1, 2, 3, or 4)"}),j.jsx("li",{children:"Image appears in OBS instantly!"})]}),j.jsx("h4",{className:"font-semibold mb-2",children:"Delete Images:"}),j.jsx("p",{className:"mb-4",children:"Hover over an image and click the red trash icon to remove it from the library."}),j.jsx("div",{className:"mt-6 p-4 bg-purple-50 border border-purple-200 rounded-lg",children:j.jsxs("p",{className:"text-sm text-purple-800",children:[j.jsx("strong",{children:"📚 Workflow Tip:"})," Before your meeting, upload all images to the Library. During the meeting, just click images to switch slots!"]})})]})}),j.jsx(r,{id:"scenes",icon:Qs,title:"Using Scenes (Coming Soon)",children:j.jsxs("div",{children:[j.jsx("h3",{className:"font-semibold text-lg mb-3",children:"Scene Presets"}),j.jsx("p",{className:"mb-4",children:"Scenes let you save and load configurations of all 4 slots at once."}),j.jsx("h4",{className:"font-semibold mb-2",children:"Create a Scene:"}),j.jsxs("ol",{className:"list-decimal list-inside space-y-2 mb-6",children:[j.jsx("li",{children:"Set up your slots with the images you want"}),j.jsx("li",{children:"Go to the Scenes page"}),j.jsx("li",{children:'Click "Create Scene"'}),j.jsx("li",{children:'Enter a name (e.g., "Product Demo", "Team Photos")'}),j.jsx("li",{children:"Scene is saved!"})]}),j.jsx("h4",{className:"font-semibold mb-2",children:"Load a Scene:"}),j.jsx("p",{className:"mb-4",children:'Click the "Load Scene" button on any saved scene to instantly restore all 4 slots to that configuration.'}),j.jsx("div",{className:"mt-6 p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:j.jsxs("p",{className:"text-sm text-yellow-800",children:[j.jsx("strong",{children:"⚠️ Note:"})," Scene functionality is currently in development. Backend integration coming soon!"]})})]})}),j.jsx(r,{id:"display",icon:sr,title:"Display Page (for OBS)",children:j.jsxs("div",{children:[j.jsx("h3",{className:"font-semibold text-lg mb-3",children:"What is the Display Page?"}),j.jsx("p",{className:"mb-4",children:"The Display page shows a single image slot in fullscreen. This is what OBS uses as a Browser Source."}),j.jsx("h4",{className:"font-semibold mb-2",children:"URL Format:"}),j.jsx("code",{className:"block bg-gray-100 px-4 py-2 rounded text-sm mb-4",children:"https://obs-media-control.piogino.ch/display?slot=1"}),j.jsx("h4",{className:"font-semibold mb-2",children:"How it Works:"}),j.jsxs("ul",{className:"list-disc list-inside space-y-2 mb-6",children:[j.jsx("li",{children:"When you update a slot from Control or Library, the Display page updates automatically"}),j.jsx("li",{children:"Uses WebSocket for real-time updates (no refresh needed!)"}),j.jsx("li",{children:"Shows only the image, no UI elements"}),j.jsx("li",{children:"Black background when no image is set"})]}),j.jsx("div",{className:"mt-6 p-4 bg-indigo-50 border border-indigo-200 rounded-lg",children:j.jsxs("p",{className:"text-sm text-indigo-800",children:[j.jsx("strong",{children:"🎬 Fun Fact:"})," You can open Display pages in a regular browser to preview what OBS sees!"]})})]})}),j.jsx(r,{id:"workflows",icon:qs,title:"Example Workflows",children:j.jsxs("div",{children:[j.jsx("h3",{className:"font-semibold text-lg mb-3",children:"Workflow 1: Live Presentation"}),j.jsxs("ol",{className:"list-decimal list-inside space-y-2 mb-6",children:[j.jsx("li",{children:"Open OBS on your computer with browser sources configured"}),j.jsx("li",{children:"Open Control page on your iPad/phone"}),j.jsx("li",{children:"Start your presentation / screen share"}),j.jsx("li",{children:"Use iPad to switch images in OBS without leaving presentation"}),j.jsx("li",{children:"Smooth, professional transitions!"})]}),j.jsx("h3",{className:"font-semibold text-lg mb-3",children:"Workflow 2: Pre-Meeting Prep"}),j.jsxs("ol",{className:"list-decimal list-inside space-y-2 mb-6",children:[j.jsx("li",{children:"Before meeting: Go to Library page"}),j.jsx("li",{children:"Upload/paste all images you'll need"}),j.jsx("li",{children:"During meeting: Click library images to assign to slots"}),j.jsx("li",{children:"No fumbling with file dialogs during presentation!"})]}),j.jsx("h3",{className:"font-semibold text-lg mb-3",children:"Workflow 3: Screenshot Sharing"}),j.jsxs("ol",{className:"list-decimal list-inside space-y-2 mb-6",children:[j.jsx("li",{children:"Take screenshot (Windows + Shift + S)"}),j.jsx("li",{children:"Go to Control page"}),j.jsx("li",{children:'Click "Paste" on any slot'}),j.jsx("li",{children:"Screenshot appears in OBS immediately"}),j.jsx("li",{children:"Perfect for showing examples on the fly!"})]}),j.jsx("h3",{className:"font-semibold text-lg mb-3",children:"Workflow 4: Multi-Screen Setup"}),j.jsxs("ol",{className:"list-decimal list-inside space-y-2 mb-6",children:[j.jsx("li",{children:"Slot 1: Product image (bottom-left)"}),j.jsx("li",{children:"Slot 2: Logo (top-right corner)"}),j.jsx("li",{children:"Slot 3: Team photo (center, when needed)"}),j.jsx("li",{children:"Slot 4: Backup/alternative images"}),j.jsx("li",{children:"Switch between layouts smoothly during stream"})]})]})}),j.jsx(r,{id:"troubleshooting",icon:lr,title:"Troubleshooting",children:j.jsxs("div",{children:[j.jsx("h3",{className:"font-semibold text-lg mb-3",children:"Images Not Showing in OBS"}),j.jsxs("ul",{className:"list-disc list-inside space-y-2 mb-6",children:[j.jsx("li",{children:"Check that the Browser Source URL is correct (includes ?slot=X)"}),j.jsx("li",{children:"Verify the browser source is visible in OBS"}),j.jsx("li",{children:"Try refreshing the browser source (right-click → Refresh)"}),j.jsx("li",{children:"Make sure OBS has internet connection"}),j.jsx("li",{children:"Check browser console for errors (right-click source → Interact)"})]}),j.jsx("h3",{className:"font-semibold text-lg mb-3",children:"Images Not Updating"}),j.jsxs("ul",{className:"list-disc list-inside space-y-2 mb-6",children:[j.jsx("li",{children:"Wait a few seconds - WebSocket connections take a moment"}),j.jsx("li",{children:"Check your internet connection"}),j.jsx("li",{children:"Refresh the browser source in OBS"}),j.jsx("li",{children:"Try closing and reopening the Control page"})]}),j.jsx("h3",{className:"font-semibold text-lg mb-3",children:"Paste Not Working"}),j.jsxs("ul",{className:"list-disc list-inside space-y-2 mb-6",children:[j.jsx("li",{children:"Make sure you copied an image (not just a file path)"}),j.jsx("li",{children:"Try clicking in the blue paste area and pressing Ctrl+V"}),j.jsx("li",{children:"On iPad: Use external keyboard for paste functionality"}),j.jsx("li",{children:"Alternative: Use Upload button instead"})]}),j.jsx("h3",{className:"font-semibold text-lg mb-3",children:"URL Images Not Loading"}),j.jsxs("ul",{className:"list-disc list-inside space-y-2 mb-6",children:[j.jsx("li",{children:"Verify the URL is a direct image link (ends in .jpg, .png, etc.)"}),j.jsx("li",{children:"Check if the website allows hotlinking (some block it)"}),j.jsx("li",{children:"Try downloading the image and using Upload instead"}),j.jsx("li",{children:"Make sure the URL is publicly accessible (not behind login)"})]}),j.jsx("h3",{className:"font-semibold text-lg mb-3",children:"Can't Access /control or /library Directly"}),j.jsxs("ul",{className:"list-disc list-inside space-y-2 mb-6",children:[j.jsx("li",{children:"This should be fixed! Try clearing browser cache (Ctrl+Shift+R)"}),j.jsx("li",{children:"Make sure you're using the latest version"}),j.jsx("li",{children:"Check that you're using https:// (not http://)"})]})]})}),j.jsx(r,{id:"tips",icon:qs,title:"Tips & Tricks",children:j.jsxs("div",{children:[j.jsx("h3",{className:"font-semibold text-lg mb-3",children:"Best Practices"}),j.jsxs("ul",{className:"list-disc list-inside space-y-2 mb-6",children:[j.jsx("li",{children:"Use Library for pre-meeting prep, Control for live switching"}),j.jsx("li",{children:"Keep commonly-used images in Library for quick access"}),j.jsx("li",{children:"Use descriptive filenames when uploading images"}),j.jsx("li",{children:"Test your OBS setup before important presentations"}),j.jsx("li",{children:"Bookmark Control page on your iPad for quick access"})]}),j.jsx("h3",{className:"font-semibold text-lg mb-3",children:"Performance Tips"}),j.jsxs("ul",{className:"list-disc list-inside space-y-2 mb-6",children:[j.jsx("li",{children:"Use optimized images (not huge file sizes)"}),j.jsx("li",{children:"WebP format works great for smaller file sizes"}),j.jsx("li",{children:'Enable "Shutdown source when not visible" in OBS'}),j.jsx("li",{children:"Close unused browser tabs to save memory"})]}),j.jsx("h3",{className:"font-semibold text-lg mb-3",children:"Creative Uses"}),j.jsxs("ul",{className:"list-disc list-inside space-y-2 mb-6",children:[j.jsx("li",{children:"Lower thirds: Use Slot 1 for speaker names/titles"}),j.jsx("li",{children:"Product demos: Quick-switch between product images"}),j.jsx("li",{children:"Reactions: Pre-load meme images for live reactions"}),j.jsx("li",{children:"Polls/Q&A: Show questions from library"}),j.jsx("li",{children:"Sponsors: Rotate sponsor logos during breaks"})]}),j.jsx("div",{className:"mt-6 p-4 bg-gradient-to-r from-blue-50 to-purple-50 border border-blue-200 rounded-lg",children:j.jsxs("p",{className:"text-sm text-gray-800",children:[j.jsx("strong",{children:"🎨 Get Creative!"})," This tool is designed for flexibility. Experiment with different layouts and workflows to find what works best for your content!"]})})]})})]}),j.jsxs("div",{className:"mt-12 p-6 bg-white rounded-lg border border-gray-200",children:[j.jsx("h3",{className:"font-semibold text-lg mb-2",children:"Need More Help?"}),j.jsx("p",{className:"text-gray-600 mb-4",children:"This tool is designed to be intuitive, but if you have questions or suggestions, feel free to reach out!"}),j.jsx("div",{className:"flex gap-4",children:j.jsxs("a",{href:"https://github.com/piosteiner/obs-remote-media-controller",target:"_blank",rel:"noopener noreferrer",className:"flex items-center space-x-2 text-primary-600 hover:text-primary-700",children:[j.jsx(Ks,{className:"w-4 h-4"}),j.jsx("span",{children:"GitHub Repository"})]})})]})]})]})}function Er({id:t,type:s,message:r,duration:n=3e3}){const o=gr(e=>e.removeToast),[a,i]=e.useState(!1);e.useEffect(()=>{const e=setTimeout(()=>{i(!0)},n-300);return()=>clearTimeout(e)},[n]);const l={success:j.jsx(Hs,{className:"w-5 h-5"}),error:j.jsx(Vs,{className:"w-5 h-5"}),warning:j.jsx(ur,{className:"w-5 h-5"}),info:j.jsx(Xs,{className:"w-5 h-5"})};return j.jsxs("div",{className:`flex items-start space-x-3 px-4 py-3 rounded-lg border-l-4 shadow-lg backdrop-blur-sm ${{success:"bg-green-50 border-green-500 text-green-800",error:"bg-red-50 border-red-500 text-red-800",warning:"bg-yellow-50 border-yellow-500 text-yellow-800",info:"bg-blue-50 border-blue-500 text-blue-800"}[s]} ${a?"animate-slide-out-right":"animate-slide-in-right"}`,style:{minWidth:"300px",maxWidth:"500px"},children:[j.jsx("div",{className:{success:"text-green-500",error:"text-red-500",warning:"text-yellow-500",info:"text-blue-500"}[s],children:l[s]}),j.jsx("p",{className:"flex-1 text-sm font-medium",children:r}),j.jsx("button",{onClick:()=>{i(!0),setTimeout(()=>{o(t)},300)},className:"text-gray-400 hover:text-gray-600 transition-colors",children:j.jsx(fr,{className:"w-4 h-4"})})]})}function Or(){const e=gr(e=>e.toasts);return j.jsx("div",{className:"fixed top-4 right-4 z-50 flex flex-col space-y-2 pointer-events-none",children:j.jsx("div",{className:"flex flex-col space-y-2 pointer-events-auto",children:e.map(e=>j.jsx(Er,{...e},e.id))})})}function Rr(){return j.jsxs(j.Fragment,{children:[j.jsxs(i,{children:[j.jsx(l,{path:"/display",element:j.jsx(Ds,{})}),j.jsx(l,{path:"/control",element:j.jsx(Nr,{})}),j.jsx(l,{path:"/scenes",element:j.jsx(Sr,{})}),j.jsx(l,{path:"/library",element:j.jsx(kr,{})}),j.jsx(l,{path:"/help",element:j.jsx(Cr,{})}),j.jsx(l,{path:"/",element:j.jsx(Nr,{})})]}),j.jsx(Or,{})]})}w.createRoot(document.getElementById("root")).render(j.jsx(r.StrictMode,{children:j.jsx(c,{children:j.jsx(Rr,{})})}));
